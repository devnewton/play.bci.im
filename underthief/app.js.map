{"version":3,"sources":["app/UnderthiefApp.ts","app/UnderthiefGame.ts","app/entities/EmotionSprite.ts","app/entities/Player.ts","app/entities/Team.ts","app/entities/Underwear.ts","app/ia/CPU.ts","app/states/AbstractState.ts","app/states/GamepadOptions.ts","app/states/GamepadOptionsBindAxisOrButton.ts","app/states/GamepadOptionsLayout.ts","app/states/Help1.ts","app/states/Help2.ts","app/states/Intro.ts","app/states/KeyboardOptions.ts","app/states/KeyboardOptionsBindKey.ts","app/states/Level.ts","app/states/Options.ts","app/states/TeamSelectScreen.ts","app/states/Title.ts","app/ui/Menu.ts","app/ui/MenuButton.ts","app/ui/MenuCursor.ts","app/ui/MenuMiniButton.ts","app/ui/MenuSelect.ts","app/utils/CollisionResolver.ts","app/utils/Controls.ts","app/utils/GamepadUtils.ts"],"names":[],"mappings":"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","file":"public/app.js","sourcesContent":["import { UnderthiefGame } from \"./UnderthiefGame\";\n\nnew UnderthiefGame();","/// <reference path=\"../typings/phaser.d.ts\"/>\nimport {Intro} from \"./states/Intro\";\nimport {Help1} from \"./states/Help1\";\nimport {Help2} from \"./states/Help2\";\nimport {Title} from \"./states/Title\";\nimport {Options} from \"./states/Options\";\nimport {KeyboardOptions} from \"./states/KeyboardOptions\";\nimport {KeyboardOptionsBindKey} from \"./states/KeyboardOptionsBindKey\";\nimport {GamepadOptions} from \"./states/GamepadOptions\";\nimport {GamepadOptionsLayout} from \"./states/GamepadOptionsLayout\";\nimport {GamepadOptionsBindAxisOrButton} from \"./states/GamepadOptionsBindAxisOrButton\";\nimport {TeamSelectScreen} from \"./states/TeamSelectScreen\";\nimport {Level} from \"./states/Level\";\nimport {Controllers} from \"./utils/Controls\";\n\nexport class UnderthiefGame extends Phaser.Game {\n\n    controllers: Controllers;\n\n    constructor() {\n        super(1280, 720, Phaser.CANVAS, 'game', {\n            preload: () => this.preloadGame()\n            , create: () => this.createGame()\n        });\n        this.state.add('Intro', Intro);\n        this.state.add('Title', Title);\n        this.state.add('Help1', Help1);\n        this.state.add('Help2', Help2);\n        this.state.add('Options', Options);\n        this.state.add('GamepadOptionsLayout', GamepadOptionsLayout);\n        this.state.add('GamepadOptionsBindAxisOrButton', GamepadOptionsBindAxisOrButton);\n        this.state.add('KeyboardOptions', KeyboardOptions);\n        this.state.add('KeyboardOptionsBindKey', KeyboardOptionsBindKey);\n        this.state.add('GamepadOptions', GamepadOptions);\n        this.state.add('TeamSelectScreen', TeamSelectScreen);\n        this.state.add('Level', Level);\n    }\n\n    preloadGame() {\n        this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n        this.scale.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL;\n        this.scale.pageAlignHorizontally = true;\n        this.scale.pageAlignVertically = true;\n    }\n\n    createGame() {\n        this.controllers = new Controllers(this);\n        this.state.start('Intro');\n    }\n\n    addSpriteAnimation(sprite: Phaser.Sprite, animationName: string, frameCount: number): Phaser.Animation {\n        return sprite.animations.add(animationName, this.genAnimArray(animationName, frameCount));\n    }\n\n    private genAnimArray(name: string, n: number) {\n        let result = new Array<string>();\n        for (let i = 0; i < n; ++i) {\n            result.push(name + i);\n        }\n        return result;\n    }\n\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { UnderthiefGame } from \"../UnderthiefGame\";\n\nexport class EmotionSprite extends Phaser.Sprite {\n\n    constructor(game: Phaser.Game, key: string, emotion: string) {\n        super(game, game.world.centerX, game.world.centerY, 'emotions');\n        this.health = 3;\n        const anim = key + \".\" + emotion;\n        (<UnderthiefGame>game).addSpriteAnimation(this, anim, emotion === 'sad' ? 10 : 4);\n\n        this.play(anim, 4, true);\n        this.anchor.setTo(0.5, 0.5);\n        this.game.add.existing(this);\n    }\n\n    static preload(game: Phaser.Game) {\n        game.load.atlasXML('emotions', 'sprites/opengameart/emotions.png', 'sprites/opengameart/emotions.xml');\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { UnderthiefGame } from \"../UnderthiefGame\";\nimport { AbstractControls } from \"../utils/Controls\";\n\ninterface PlayerState {\n    update(player: Player);\n}\n\nclass PlayerDashState implements PlayerState {\n\n    dashSteps = 3;\n\n    constructor(player: Player) {\n        if (Math.abs(player.body.velocity.y) > Math.abs(player.body.velocity.x)) {\n            if (player.body.velocity.y < 0) {\n                player.play(\"player.dash.back\", 8, false);\n            } else {\n                player.play(\"player.dash.front\", 8, false);\n            }\n        } else {\n            if (player.body.velocity.x < 0) {\n                player.play(\"player.dash.left\", 8, false);\n            } else {\n                player.play(\"player.dash.right\", 8, false);\n            }\n        }\n    }\n\n    update(player: Player) {\n        --this.dashSteps;\n        if (this.dashSteps <= 0) {\n            player.body.velocity.x = 0;\n            player.body.velocity.y = 0;\n            if (this.dashSteps <= -10) {\n                player.dashCoolDown = 30;\n                player.state = Player.RUNNING_STATE;\n            }\n        }\n    }\n}\n\nclass PlayerHammeredState implements PlayerState {\n\n    steps = 60;\n\n    update(player: Player) {\n        this.steps--;\n        if (this.steps <= 0) {\n            player.body.velocity.x = 0;\n            player.body.velocity.y = 0;\n            player.state = Player.RUNNING_STATE;\n        } else {\n            player.play(\"player.hammered\", 8, false);\n        }\n    }\n}\n\nclass PlayerRunningState implements PlayerState {\n    update(player: Player) {\n        player.hammerTime = false;\n        --player.dashCoolDown;\n        if (!player.oldPos.equals(player.position)) {\n            player.oldPos = player.position.clone();\n        }\n        if (player.controls) {\n            player.body.velocity.x = 0;\n            player.body.velocity.y = 0;\n            let dashAngle = player.controls.dashingAngle(player.body.center);\n            if (player.dashCoolDown < 0 && null != dashAngle) {\n                player.dash(dashAngle);\n            } else if (player.controls.isHammerTime()) {\n                player.hammerTime = true;\n                player.play(\"player.hammertime\", 8, false);\n            } else {\n                if (player.controls.isGoingLeft()) {\n                    player.body.velocity.x = -300;\n                } else if (player.controls.isGoingRight()) {\n                    player.body.velocity.x = 300;\n                }\n\n                if (player.controls.isGoingUp()) {\n                    player.body.velocity.y = -300;\n                } else if (player.controls.isGoingDown()) {\n                    player.body.velocity.y = 300;\n                }\n\n                if (player.body.velocity.y < 0) {\n                    player.play(\"player.walk.back\", 8, false);\n                } else if (player.body.velocity.y > 0) {\n                    player.play(\"player.walk.front\", 8, false);\n                } else if (player.body.velocity.x < 0) {\n                    player.play(\"player.walk.left\", 8, false);\n                } else if (player.body.velocity.x > 0) {\n                    player.play(\"player.walk.right\", 8, false);\n                } else {\n                    player.play(\"player.wait\", 8, false);\n                }\n            }\n        }\n\n    }\n}\n\n\nexport class Player extends Phaser.Sprite {\n\n    controls: AbstractControls;\n    state: PlayerState;\n    hammerTime = false;\n    dashCoolDown = 0;\n    cpuData: any = {};\n    static RUNNING_STATE = new PlayerRunningState();\n\n    constructor(game: Phaser.Game, key: string) {\n        super(game, game.world.centerX, game.world.centerY, key);\n        this.health = 3;\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.walk.back', 4);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.walk.front', 4);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.walk.left', 4);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.walk.right', 4);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.dash.back', 1);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.dash.front', 1);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.dash.left', 1);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.dash.right', 1);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.hammertime', 4);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.hammered', 4);\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'player.wait', 1);\n\n        this.play(\"player.wait\", 8, false);\n        this.anchor.setTo(0.5, 0.5);\n        this.game.physics.enable(this, Phaser.Physics.ARCADE);\n        this.body.setCircle(24);\n        this.body.collideWorldBounds = true;\n        this.game.add.existing(this);\n        this.state = Player.RUNNING_STATE;\n    }\n\n    static preload(game: Phaser.Game) {\n        game.load.atlasXML('betty', 'sprites/opengameart/betty.png', 'sprites/opengameart/player.xml');\n        game.load.atlasXML('betty2', 'sprites/opengameart/betty2.png', 'sprites/opengameart/player.xml');\n        game.load.atlasXML('george', 'sprites/opengameart/george.png', 'sprites/opengameart/player.xml');\n        game.load.atlasXML('george2', 'sprites/opengameart/george2.png', 'sprites/opengameart/player.xml');\n    }\n\n    oldPos = new Phaser.Point(0, 0);\n\n    update() {\n        super.update()\n        this.state.update(this);\n    }\n\n    dash(angle: number) {\n        if (!(this.state instanceof PlayerDashState)) {\n            this.game.physics.arcade.velocityFromRotation(angle, 1200, this.body.velocity);\n            this.state = new PlayerDashState(this);\n        }\n    }\n\n    hammer(other: Player) {\n        if (!(other.state instanceof PlayerHammeredState)) {\n            other.state = new PlayerHammeredState();\n            let angle = Phaser.Math.angleBetweenPoints(this.body.center, other.body.center);\n            this.game.physics.arcade.velocityFromRotation(angle, 300, other.body.velocity);\n        }\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { Player } from \"./Player\";\nimport { CollisionResolver } from \"../utils/CollisionResolver\";\n\nexport class Team extends Phaser.Group {\n    constructor(game: Phaser.Game) {\n        super(game);\n    }\n}\n\nexport class TeamCollisionResolver extends CollisionResolver {\n    constructor(game: Phaser.Game) {\n        super(game);\n    }\n\n    onCollide(sa: Phaser.Sprite, sb: Phaser.Sprite) {\n        let a = <Player>sa;\n        let b = <Player>sb;\n        if (a.hammerTime) {\n            a.hammer(b);\n        }\n        if (b.hammerTime) {\n            b.hammer(a);\n        }\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { UnderthiefGame } from \"../UnderthiefGame\";\nimport { AbstractControls } from \"../utils/Controls\";\nimport { CollisionResolver } from \"../utils/CollisionResolver\";\n\nexport class Underwear extends Phaser.Sprite {\n\n    constructor(game: Phaser.Game, key: string) {\n        super(game, game.world.centerX, game.world.centerY, key);\n        this.health = 3;\n        (<UnderthiefGame>game).addSpriteAnimation(this, 'underwear.moving', 1);\n\n        this.play(\"underwear.moving\", 8, false);\n        this.anchor.setTo(0.5, 0.5);\n        this.game.physics.enable(this, Phaser.Physics.ARCADE);\n        this.body.setCircle(32);\n        this.body.collideWorldBounds = true;\n        this.body.bounce.x = 0.7;\n        this.body.bounce.y = 0.7;\n    }\n\n    static preload(game: Phaser.Game) {\n        game.load.atlasXML('bra', 'sprites/devnewton/bra.png', 'sprites/devnewton/underwear.xml');\n        game.load.atlasXML('boxers', 'sprites/devnewton/boxers.png', 'sprites/devnewton/underwear.xml');\n    }\n}\n\nexport class UnderwearCapturePoint extends Phaser.Sprite {\n    containsUnderwear: boolean = false;\n\n    constructor(game: Phaser.Game, x: number, y: number) {\n        super(game, x, y);\n        this.game.physics.enable(this, Phaser.Physics.ARCADE);\n        this.body.immovable = true;\n    }\n}\n\nexport class UnderwearCapturePoints extends Phaser.Group {\n    constructor(game: Phaser.Game, map: Phaser.Tilemap, key: string) {\n        super(game);\n        for (let o of map.objects[key + '-capture-points']) {\n            if (o.rectangle) {\n                const capturePoint = new UnderwearCapturePoint(this.game, o.x, o.y);\n                capturePoint.width = o.width;\n                capturePoint.height = o.height;\n                this.add(capturePoint);\n            }\n        }\n    }\n\n    areAllCaptured(): boolean {\n        for(let c in this.children) {\n            let child = <UnderwearCapturePoint> this.children[c];\n            if(!child.containsUnderwear) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    countCaptured(): number {\n        let count = 0;\n        for(let c in this.children) {\n            let child = <UnderwearCapturePoint> this.children[c];\n            if(child.containsUnderwear) {\n               ++count;\n            }\n        }\n        return count;\n    }\n}\n\nexport class UnderwearCaptureCollisionResolver extends CollisionResolver {\n    constructor(game: Phaser.Game) {\n        super(game);\n    }\n\n    checkCollision(sa: Phaser.Sprite, sb: Phaser.Sprite) {\n        let a = <Underwear>sa;\n        let b = <UnderwearCapturePoint> sb;\n        return !b.containsUnderwear && a.exists && b.exists && b.body.hitTest(a.centerX, a.centerY);\n    }\n\n    onCollide(sa: Phaser.Sprite, sb: Phaser.Sprite) {\n        let a = <Underwear>sa;\n        let b = <UnderwearCapturePoint> sb;\n        a.body.enable = false;\n        a.tint = 0xAADDAA;\n        b.containsUnderwear = true;\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\r\nimport { CPUControls } from \"../utils/Controls\";\r\nimport { Player } from \"../entities/Player\";\r\nimport { UnderwearCapturePoints } from \"../entities/Underwear\";\r\n\r\n\r\nenum CPUAttitude {\r\n    OFFENSIVE = 1,\r\n    DEFENSIVE = 2\r\n}\r\n\r\nexport class CPU {\r\n    controls: CPUControls;\r\n    underwears: Phaser.Group;\r\n    capturePoints: UnderwearCapturePoints;\r\n    me: Player;\r\n    opponents: Phaser.Group;\r\n    buddies: Phaser.Group;\r\n    waitUntil: number;\r\n    hammerUntil: number;\r\n    lastCapturedCount: number = 0;\r\n\r\n    think() {\r\n        this.controls.reset();\r\n        if (!this.waiting() && !this.hammering()) {\r\n            switch (this.chooseBehavior()) {\r\n                case CPUAttitude.OFFENSIVE:\r\n                    this.attack();\r\n                    break;\r\n                case CPUAttitude.DEFENSIVE:\r\n                    this.defend();\r\n                    break;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    chooseBehavior(): CPUAttitude {\r\n        if (!this.me.cpuData.attitude) {\r\n            let nbOffensive = 0;\r\n            let nbDefensive = 0;\r\n            this.buddies.forEachAlive((player) => {\r\n                switch (player.cpuData.attitude) {\r\n                    case CPUAttitude.OFFENSIVE:\r\n                        ++nbOffensive;\r\n                        break;\r\n                    case CPUAttitude.DEFENSIVE:\r\n                        ++nbDefensive;\r\n                        break;\r\n                }\r\n            }, null);\r\n            if (nbDefensive < nbOffensive) {\r\n                this.me.cpuData.attitude = this.me.game.rnd.weightedPick([CPUAttitude.OFFENSIVE, CPUAttitude.DEFENSIVE]);\r\n            } else if (nbDefensive > nbOffensive) {\r\n                this.me.cpuData.attitude = CPUAttitude.OFFENSIVE;\r\n            } else {\r\n                this.me.cpuData.attitude = this.me.game.rnd.weightedPick([CPUAttitude.OFFENSIVE, CPUAttitude.DEFENSIVE]);\r\n            }\r\n        }\r\n        return this.me.cpuData.attitude;\r\n    }\r\n\r\n    attack() {\r\n        const capturedCount = this.capturePoints.countCaptured();\r\n        if (this.lastCapturedCount !== capturedCount) {\r\n            this.lastCapturedCount = capturedCount;\r\n            this.me.cpuData.attitude = null;\r\n        } else {\r\n            let underwear = this.underwears.getClosestTo(this.me, u => u.body.enable);\r\n            let capturePoint = this.capturePoints.getClosestTo(this.me, u => u.body.enable);\r\n            if (underwear && capturePoint) {\r\n                if (this.me.game.physics.arcade.overlap(this.me, this.underwears)) {\r\n                    this.waitUntil = this.me.game.time.time + 500;\r\n                } else {\r\n                    this.pushUnderwear(underwear, capturePoint);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    defend() {\r\n        let opponent = this.opponents.getClosestTo(this.me);\r\n        if (opponent) {\r\n            if (this.me.game.physics.arcade.overlap(this.me, this.opponents)) {\r\n                this.hammerUntil = this.me.game.time.time + 500;\r\n                this.me.cpuData.attitude = null;\r\n            } else {\r\n                this.moveToXY(opponent.body.x, opponent.body.y)\r\n            }\r\n        }\r\n    }\r\n\r\n    pushUnderwear(underwear, capturePoint) {\r\n        if (underwear.body.blocked.up && underwear.body.blocked.left) {\r\n            this.unblockTopLeftUnderwear(underwear);\r\n        } else if (underwear.body.blocked.up && underwear.body.blocked.right) {\r\n            this.unblockTopRightUnderwear(underwear);\r\n        } if (underwear.body.blocked.down && underwear.body.blocked.left) {\r\n            this.unblockBottomLeftUnderwear(underwear);\r\n        } else if (underwear.body.blocked.down && underwear.body.blocked.right) {\r\n            this.unblockBottomRightUnderwear(underwear);\r\n        } else {\r\n            this.pushUnderwearToCapturePoint(underwear, capturePoint);\r\n        }\r\n    }\r\n\r\n    pushUnderwearToCapturePoint(underwear, capturePoint) {\r\n        let ucVector = new Phaser.Point(underwear.body.x - capturePoint.body.x, underwear.body.y - capturePoint.body.y);\r\n        ucVector.setMagnitude(underwear.body.radius).add(underwear.body.x, underwear.body.y);\r\n        this.moveToXY(ucVector.x, ucVector.y);\r\n    }\r\n\r\n    unblockTopLeftUnderwear(underwear) {\r\n        this.moveToXY(underwear.left, underwear.top);\r\n    }\r\n    unblockTopRightUnderwear(underwear) {\r\n        this.moveToXY(underwear.right, underwear.top);\r\n    }\r\n    unblockBottomLeftUnderwear(underwear) {\r\n        this.moveToXY(underwear.left, underwear.bottom);\r\n    }\r\n    unblockBottomRightUnderwear(underwear) {\r\n        this.moveToXY(underwear.right, underwear.bottom);\r\n    }\r\n    waiting(): boolean {\r\n        if (this.waitUntil) {\r\n            if (this.me.game.time.time < this.waitUntil) {\r\n                return true;\r\n            } else {\r\n                this.waitUntil = null;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hammering(): boolean {\r\n        if (this.hammerUntil) {\r\n            if (this.me.game.time.time < this.hammerUntil) {\r\n                this.controls.hammerTime = true;\r\n                return true;\r\n            } else {\r\n                this.waitUntil = this.me.game.time.time + 500;\r\n                this.hammerUntil = null;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    moveToXY(x: number, y: number) {\r\n        if (this.me.body.x < x) {\r\n            this.controls.goingRight = true;\r\n        } else if (this.me.body.x > x) {\r\n            this.controls.goingLeft = true;\r\n        }\r\n        if (this.me.body.y < y) {\r\n            this.controls.goingDown = true;\r\n        } else if (this.me.body.y > y) {\r\n            this.controls.goingUp = true;\r\n        }\r\n    }\r\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport abstract class AbstractState extends Phaser.State {\n\n    constructor() {\n        super();\n    }\n\n    create() {\n        this.game.input.keyboard.addKey(Phaser.Keyboard.F11).onDown.add(() => this.toggleFullscreen());\n    }\n\n    toggleFullscreen() {\n        if (this.game.scale.isFullScreen) {\n            this.game.scale.stopFullScreen();\n        } else {\n            this.game.scale.startFullScreen();\n        }\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\nimport {MenuButton} from \"../ui/MenuButton\";\nimport {GamepadUtils} from \"../utils/GamepadUtils\";\n\n\nexport class GamepadOptions extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        let title = this.game.add.text(this.game.world.centerX, 0, 'Choose gamepad', { font: \"42px monospace\", fill: 'white' });\n        title.scale.x = 2;\n        title.scale.y = 2;\n        title.anchor.setTo(0.5, 0);\n\n        let subtitle = this.game.add.text(0, 0, 'Move stick or press button to show gamepad number', { font: \"32px monospace\", fill: 'white' });\n        subtitle.y = this.game.world.height - subtitle.height;\n\n        const menu = new Menu(this.game).disableGamepadCursor();\n        menu.addButton(new GamepadMenuButton(this.input.gamepad.pad1, \"Gamepad 1\", 200, 100, () => {\n            this.game.state.start('GamepadOptionsLayout', true, false, 1);\n        }));\n        menu.addButton(new GamepadMenuButton(this.input.gamepad.pad2, \"Gamepad 2\", 200, 200, () => {\n            this.game.state.start('GamepadOptionsLayout', true, false, 2);\n        }));\n        menu.addButton(new GamepadMenuButton(this.input.gamepad.pad3, \"Gamepad 3\", 200, 300, () => {\n            this.game.state.start('GamepadOptionsLayout', true, false, 3);\n        }));\n        menu.addButton(new GamepadMenuButton(this.input.gamepad.pad4, \"Gamepad 4\", 200, 400, () => {\n            this.game.state.start('GamepadOptionsLayout', true, false, 4);\n        }));\n        menu.button(\"Back\", 200, 550, () => this.game.state.start('Options'));\n    }\n}\n\nclass GamepadMenuButton extends MenuButton {\n    pad: Phaser.SinglePad;\n    constructor(pad: Phaser.SinglePad, label: string, x: number, y: number, callback: Function) {\n        super(pad.game, label, x, y, callback);\n        this.pad = pad;\n    }\n\n    update() {\n        super.update();\n\n        if (this.isPadActive()) {\n            this.labelText.tint = GamepadUtils.gamepadColor(this.pad);\n        } else {\n            this.labelText.tint = 0xFFFFFF;\n        }\n    }\n\n    isPadActive(): boolean {\n        for (let b = 0; b < 16; ++b) {\n            let button = this.pad.getButton(b);\n            if (button && button.isDown) {\n                return true;\n            }\n        }\n        for (let a = 0; a < 16; ++a) {\n            if (Math.abs(this.pad.axis(a)) > this.pad.deadZone) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { Menu } from \"../ui/Menu\";\nimport { MenuMiniButton } from \"../ui/MenuMiniButton\";\nimport { UnderthiefGame } from \"../UnderthiefGame\";\nimport { GamepadUtils } from \"../utils/GamepadUtils\";\n\nexport class GamepadOptionsBindAxisOrButton extends AbstractState {\n\n    bindingsDescription = [\n        { label: 'Pull move X axis', localStorageKey: 'moveXAxis' },\n        { label: 'Pull move Y axis', localStorageKey: 'moveYAxis' },\n        { label: 'Press hammer button', localStorageKey: 'hammerButton' },\n        { label: 'Press dash button', localStorageKey: 'dashButton' },\n        { label: 'Press menu button', localStorageKey: 'menuButton' }\n    ];\n\n    currentBinding: number = 0;\n    pad: Phaser.SinglePad;\n    padIndex = 1;\n    axisButtons: Phaser.Group;\n    buttonsButtons: Phaser.Group;\n    bindings = {};\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n        MenuMiniButton.preload(this.game);\n    }\n\n    init(padIndex: number, binding: number = 0, bindings: any) {\n        this.bindings = bindings || {};\n        this.pad = GamepadUtils.gamepadByIndex(this.game, padIndex);\n        if (binding >= this.bindingsDescription.length) {\n            this.currentBinding = 0;\n            localStorage.setItem('gamepad.' + GamepadUtils.gamepadId(this.pad) + '.layout', JSON.stringify(this.bindings));\n            (this.game as UnderthiefGame).controllers.updatePadLayout();\n            this.game.state.start('GamepadOptions');\n        } else {\n            this.currentBinding = binding;\n        }\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text(this.game.world.centerX, 0, this.bindingsDescription[this.currentBinding].label, { font: \"42px monospace\", fill: 'white' });\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo(0.5, 0);\n        const menu = new Menu(this.game).disableGamepadCursor();\n        menu.button(\"Back\", 200, 600, () => this.game.state.start('GamepadOptions'));\n        this.createAxisButtons();\n        this.createButtonsButtons();\n\n    }\n\n    createAxisButtons() {\n        this.axisButtons = this.game.add.group();\n        this.axisButtons.visible = false;\n        const nbButtonsPerColumn = Math.ceil(Math.sqrt(GamepadUtils.NB_AXIS));\n        for (let y = 0, axisCode =0; axisCode< GamepadUtils.NB_AXIS; ++y) {\n            for (let x = 0; x < nbButtonsPerColumn; ++x) {\n                const buttonAxisCode = axisCode++;\n                let miniButton = new AxisButton(this.game, this.pad, buttonAxisCode, 250 + x * 200, 100 + y * 120, () => this.bindAxis(buttonAxisCode));\n                this.axisButtons.add(miniButton);\n            }\n        }\n    }\n\n    createButtonsButtons() {\n        this.buttonsButtons = this.game.add.group();\n        this.buttonsButtons.visible = false;\n        const nbButtonsPerColumn = Math.ceil(Math.sqrt(GamepadUtils.NB_BUTTONS));\n        for (let y = 0, buttonCode =0; buttonCode< GamepadUtils.NB_BUTTONS; ++y) {\n            for (let x = 0; x < nbButtonsPerColumn; ++x) {\n                const buttonButtonCode = buttonCode++;\n                let miniButton = new ButtonButton(this.game, this.pad, buttonButtonCode, 250 + x * 200, 100 + y * 120, () => this.bindButton(buttonButtonCode));\n                this.buttonsButtons.add(miniButton);\n            }\n        }\n    }\n\n    update() {\n        super.update();\n        if (this.bindingsDescription[this.currentBinding].localStorageKey.match(/axis/gi)) {\n            this.axisButtons.visible = true;\n            this.buttonsButtons.visible = false;\n        } else {\n            this.axisButtons.visible = false;\n            this.buttonsButtons.visible = true;\n        }\n    }\n\n    bindAxis(axisCode: number) {\n        this.bindings[this.bindingsDescription[this.currentBinding].localStorageKey] = axisCode;\n        this.game.state.start('GamepadOptionsBindAxisOrButton', true, false, this.padIndex, this.currentBinding + 1, this.bindings);\n    }\n\n    bindButton(buttonCode: number) {\n        this.bindings[this.bindingsDescription[this.currentBinding].localStorageKey] = buttonCode;\n        this.game.state.start('GamepadOptionsBindAxisOrButton', true, false, this.padIndex, this.currentBinding + 1, this.bindings);\n    }\n}\n\nclass AxisButton extends MenuMiniButton {\n    pad: Phaser.SinglePad;\n    axisCode: number;\n    constructor(game: Phaser.Game, pad: Phaser.SinglePad, axisCode: number, x: number, y: number, callback: Function) {\n        super(game, axisCode.toString(), x, y, callback);\n        this.pad = pad;\n        this.axisCode = axisCode;\n    }\n    update() {\n        super.update();\n\n        if (Math.abs(this.pad.axis(this.axisCode)) > this.pad.deadZone) {\n            this.labelText.tint = GamepadUtils.gamepadColor(this.pad);\n        } else {\n            this.labelText.tint = 0xFFFFFF;\n        }\n    }\n\n}\n\nclass ButtonButton extends MenuMiniButton {\n    pad: Phaser.SinglePad;\n    buttonCode: number;\n    constructor(game: Phaser.Game, pad: Phaser.SinglePad, buttonCode: number, x: number, y: number, callback: Function) {\n        super(game, buttonCode.toString(), x, y, callback);\n        this.pad = pad;\n        this.buttonCode = buttonCode;\n    }\n    update() {\n        super.update();\n\n        if (this.pad.isDown(this.buttonCode)) {\n            this.labelText.tint = GamepadUtils.gamepadColor(this.pad);\n        } else {\n            this.labelText.tint = 0xFFFFFF;\n        }\n    }\n\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\nimport {UnderthiefGame} from \"../UnderthiefGame\";\nimport {GamepadUtils} from '../utils/GamepadUtils';\n\nexport class GamepadOptionsLayout extends AbstractState {\n    padIndex: number;\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    init(padIndex : number) {\n        this.padIndex = padIndex || 1;\n    }\n\n    create() {\n        super.create();\n        let title = this.game.add.text(this.game.world.centerX, 0, 'Choose gamepad layout', { font: \"42px monospace\", fill: 'white' });\n        title.scale.x = 2;\n        title.scale.y = 2;\n        title.anchor.setTo(0.5, 0);\n\n        const menu = new Menu(this.game).disableGamepadCursor();\n        menu.button(\"Xbox\", 200, 200, () => {\n            localStorage.setItem('gamepad.' + GamepadUtils.gamepadId(GamepadUtils.gamepadByIndex(this.game, this.padIndex)) + '.layout', 'xbox');\n            this.game.state.start('Options');\n        });\n        menu.button(\"Custom\", 200, 300, () => {\n            this.game.state.start('GamepadOptionsBindAxisOrButton', true, false, this.padIndex);\n        });\n        menu.button(\"Back\", 200, 500, () => this.game.state.start('Options'));\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\n\nexport class Help1 extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        this.game.load.image('help1', 'help/help1.png');\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        this.game.add.image(0, 0, 'help1');\n        const menu = new Menu(this.game);\n        menu.button(\"Continue\", 200, 610, () => this.game.state.start('Help2'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\n\nexport class Help2 extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        this.game.load.image('help2', 'help/help2.png');\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        this.game.add.image(0, 0, 'help2');\n        const menu = new Menu(this.game);\n        menu.button(\"Continue\", 200, 610, () => this.game.state.start('Title'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\"; // you import only AClass\n\nexport class Intro extends AbstractState {\n\n    lastKey: Phaser.Key;\n    video: Phaser.Video;\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        this.game.load.video('intro', 'intro/intro.webm');\n    }\n\n    create() {\n        super.create();\n        this.video = this.game.add.video('intro');\n        this.video.play();\n        this.video.addToWorld(this.game.world.centerX, this.game.world.centerY, 0.5, 0.5);\n        this.video.onComplete.add(() => this.game.state.start('Title'));\n        this.lastKey = this.game.input.keyboard.lastKey;\n        this.game.input.onTap.add(() => {\n            this.gotoTitle();\n        });\n    }\n\n    update() {\n        if (this.lastKey != this.game.input.keyboard.lastKey) {\n            this.gotoTitle();\n            return;\n        }\n        for (let b = 0; b < 16; ++b) {\n            if (this.input.gamepad.isDown(b)) {\n                this.gotoTitle();\n                return;\n            }\n        }\n    }\n\n    gotoTitle() {\n        this.video.stop();\n        this.game.state.start('Title');\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\nimport { UnderthiefGame } from \"../UnderthiefGame\";\n\n\nexport class KeyboardOptions extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text(this.game.world.centerX, 0, 'Choose keyboard layout',{font: \"42px monospace\", fill: 'white'});\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo(0.5, 0);\n\n        const menu = new Menu(this.game).disableKeyboardCursor();\n        menu.button(\"Azerty zsqd jk\", 200, 100, () => {\n            localStorage.setItem('keyboard.layout', 'azerty');\n            (this.game as UnderthiefGame).controllers.getKeyboard().setupKeyboardLayout();\n            this.game.state.start('Options');\n        });\n        menu.button(\"Qwerty wsad jk\", 200, 200, () => {\n            localStorage.setItem('keyboard.layout', 'qwerty');\n            (this.game as UnderthiefGame).controllers.getKeyboard().setupKeyboardLayout();\n            this.game.state.start('Options');\n        });\n        menu.button(\" shift ctrl\", 200, 300, () => {\n            localStorage.setItem('keyboard.layout', 'other');\n            (this.game as UnderthiefGame).controllers.getKeyboard().setupKeyboardLayout();\n            this.game.state.start('Options');\n        });\n        menu.button(\"Custom\", 200, 400, () => {\n            this.game.state.start('KeyboardOptionsBindKey', true, false);\n        });\n        menu.button(\"Back\", 200, 600, () => this.game.state.start('Options'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { Menu } from \"../ui/Menu\";\nimport { UnderthiefGame } from \"../UnderthiefGame\";\n\n\nexport class KeyboardOptionsBindKey extends AbstractState {\n\n    bindingsDescription = [\n        { label: 'Press move up key', localStorageKey: 'moveUp' },\n        { label: 'Press move down key', localStorageKey: 'moveDown' },\n        { label: 'Press move left key', localStorageKey: 'moveLeft' },\n        { label: 'Press move right key', localStorageKey: 'moveRight' },\n        { label: 'Press hammer key', localStorageKey: 'hammer' },\n        { label: 'Press dash key', localStorageKey: 'dash' },\n        { label: 'Press menu key', localStorageKey: 'menu' }\n    ];\n\n    currentBinding: number = 0;\n    bindings = {};\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    init(binding: number = 0, bindings?: any) {\n        this.bindings = bindings || {};\n        if (binding >= this.bindingsDescription.length) {\n            this.currentBinding = 0;\n            localStorage.setItem('keyboard.layout', JSON.stringify(this.bindings));\n            (this.game as UnderthiefGame).controllers.getKeyboard().setupKeyboardLayout();\n            this.game.state.start('KeyboardOptions');\n        } else {\n            this.currentBinding = binding;\n        }\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text(this.game.world.centerX, 0, this.bindingsDescription[this.currentBinding].label, { font: \"42px monospace\", fill: 'white' });\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo(0.5, 0);\n        const menu = new Menu(this.game).disableKeyboardCursor();\n        menu.button(\"Back\", 200, 600, () => this.game.state.start('KeyboardOptions'));\n    }\n\n    update() {\n        for (var k in Phaser.KeyCode) {\n            let keycode = Phaser.KeyCode[k];\n            if (this.input.keyboard.isDown(keycode)) {\n                this.bindings[this.bindingsDescription[this.currentBinding].localStorageKey] = keycode;\n                this.game.state.start('KeyboardOptionsBindKey', true, false, this.currentBinding + 1, this.bindings);\n                break;\n            }\n        }\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { UnderthiefGame } from \"../UnderthiefGame\";\nimport { Player } from \"../entities/Player\";\nimport { EmotionSprite } from \"../entities/EmotionSprite\";\nimport { Underwear, UnderwearCapturePoints, UnderwearCaptureCollisionResolver } from \"../entities/Underwear\";\nimport { Team, TeamCollisionResolver } from \"../entities/Team\";\nimport { Menu } from \"../ui/Menu\";\n\nimport { ControllerType, CPUControls } from \"../utils/Controls\";\nimport { CPU } from \"../ia/CPU\";\n\nexport class LevelConfig {\n    bettyController: ControllerType;\n    betty2Controller: ControllerType;\n    georgeController: ControllerType;\n    george2Controller: ControllerType;\n}\n\nexport class Level extends AbstractState {\n\n    config: LevelConfig;\n    collisionSprites: Phaser.Group;\n    girlsTeam: Team;\n    boysTeam: Team;\n    braGroup: Phaser.Group;\n    boxersGroup: Phaser.Group;\n    menu: Menu;\n    teamCollisionResolver: TeamCollisionResolver;\n    braCapturePoints: UnderwearCapturePoints;\n    boxersCapturePoints: UnderwearCapturePoints;\n    underwearCaptureCollisionResolver: UnderwearCaptureCollisionResolver;\n    cpus: Array<CPU>;\n    isNotFirstFrame: boolean;\n    victory: boolean;\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Player.preload(this.game);\n        Underwear.preload(this.game);\n        EmotionSprite.preload(this.game);\n        Menu.preload(this.game);\n        this.game.load.image('girls-win', 'victory/girls-win.png');\n        this.game.load.image('boys-win', 'victory/boys-win.png');\n        this.game.load.tilemap('map', 'levels/level1.json', null, Phaser.Tilemap.TILED_JSON);\n        this.game.load.image('interior', 'sprites/opengameart/LPC_house_interior/interior.png');\n        this.game.load.image('arabic1', 'sprites/opengameart/arabic_set/arabic1.png');\n        this.game.load.image('house_inside', 'sprites/opengameart/lpc-house-insides/house_inside.png');\n        this.game.load.image('misc', 'sprites/opengameart/misc-32x32-tiles/misc.png');\n        this.game.load.image('basket', 'sprites/devnewton/basket.png');\n        this.game.load.audio('level-music', 'musics/opengameart/8-bit-music-pack-loopable/bgm_action_4.mp3')\n        this.game.load.audio('victory-music', 'musics/opengameart/hungry-dino-9-chiptune-tracks-10-sfx/victory.mp3')\n    }\n\n    init(config: LevelConfig) {\n        this.config = config;\n        this.cpus = [];\n        this.isNotFirstFrame = false;\n        this.victory = false;\n    }\n\n    create() {\n        super.create();\n        this.game.sound.stopAll();\n        this.game.sound.play('level-music', 1, true);\n\n        this.game.physics.startSystem(Phaser.Physics.ARCADE);\n        const map = this.game.add.tilemap('map');\n        map.addTilesetImage('interior');\n        map.addTilesetImage('arabic1');\n        map.addTilesetImage('house_inside');\n        map.addTilesetImage('misc');\n        map.addTilesetImage('basket');\n\n        const layer = map.createLayer('ground');\n        map.createLayer('doors_and_furnitures');\n        layer.resizeWorld();\n\n        this.collisionSprites = this.game.add.physicsGroup(Phaser.Physics.ARCADE);\n        for (let o of map.objects['collision']) {\n            if (o.name === 'world-bounds') {\n                this.game.physics.arcade.setBounds(o.x, o.y, o.width, o.height);\n            } else if (o.rectangle) {\n                const sprite = this.game.add.sprite(o.x, o.y);\n                this.game.physics.enable(sprite, Phaser.Physics.ARCADE);\n                sprite.body.immovable = true;\n                sprite.width = o.width;\n                sprite.height = o.height;\n                this.collisionSprites.add(sprite);\n            }\n        }\n\n        this.braCapturePoints = new UnderwearCapturePoints(this.game, map, 'bra');\n        this.boxersCapturePoints = new UnderwearCapturePoints(this.game, map, 'boxers');\n        this.underwearCaptureCollisionResolver = new UnderwearCaptureCollisionResolver(this.game);\n\n        let controllers = (this.game as UnderthiefGame).controllers;\n\n        this.girlsTeam = new Team(this.game);\n        let betty = new Player(this.game, 'betty');\n        betty.x = 256;\n        betty.y = 320;\n        betty.controls = controllers.getController(this.config.bettyController);\n        this.girlsTeam.add(betty);\n\n        let betty2 = new Player(this.game, 'betty2');\n        betty2.x = 256;\n        betty2.y = 480;\n        betty2.controls = controllers.getController(this.config.betty2Controller);\n        this.girlsTeam.add(betty2);\n\n        this.braGroup = this.game.add.physicsGroup(Phaser.Physics.ARCADE);\n\n        let bra1 = new Underwear(this.game, 'bra');\n        bra1.x = 512;\n        bra1.y = 240;\n        this.braGroup.add(bra1);\n\n        let bra2 = new Underwear(this.game, 'bra');\n        bra2.x = 512;\n        bra2.y = 400;\n        this.braGroup.add(bra2);\n\n        let bra3 = new Underwear(this.game, 'bra');\n        bra3.x = 512;\n        bra3.y = 560;\n        this.braGroup.add(bra3);\n\n        this.boysTeam = new Team(this.game);\n        let george = new Player(this.game, 'george');\n        george.x = 1024;\n        george.y = 320;\n        george.controls = controllers.getController(this.config.georgeController);\n        this.boysTeam.add(george);\n\n        let george2 = new Player(this.game, 'george2');\n        george2.x = 1024;\n        george2.y = 480;\n        george2.controls = controllers.getController(this.config.george2Controller);\n        this.boysTeam.add(george2);\n\n        this.boxersGroup = this.game.add.physicsGroup(Phaser.Physics.ARCADE);\n\n        let boxers1 = new Underwear(this.game, 'boxers');\n        boxers1.x = 768;\n        boxers1.y = 240;\n        this.boxersGroup.add(boxers1);\n\n        let boxers2 = new Underwear(this.game, 'boxers');\n        boxers2.x = 768;\n        boxers2.y = 400;\n        this.boxersGroup.add(boxers2);\n\n        let boxers3 = new Underwear(this.game, 'boxers');\n        boxers3.x = 768;\n        boxers3.y = 560;\n        this.boxersGroup.add(boxers3);\n\n        this.teamCollisionResolver = new TeamCollisionResolver(this.game);\n\n        this.girlsTeam.forEachAlive((player) => {\n            if (player.controls instanceof CPUControls) {\n                let cpu = new CPU();\n                cpu.me = player;\n                cpu.buddies = this.girlsTeam;\n                cpu.opponents = this.boysTeam;\n                cpu.controls = player.controls;\n                cpu.capturePoints = this.boxersCapturePoints;\n                cpu.underwears = this.boxersGroup;\n                this.cpus.push(cpu);\n            }\n        }, null);\n        this.boysTeam.forEachAlive((player) => {\n            if (player.controls instanceof CPUControls) {\n                let cpu = new CPU();\n                cpu.me = player;\n                cpu.buddies = this.boysTeam;\n                cpu.opponents = this.girlsTeam;\n                cpu.controls = player.controls;\n                cpu.capturePoints = this.braCapturePoints;\n                cpu.underwears = this.braGroup;\n                this.cpus.push(cpu);\n            }\n        }, null);\n\n        this.menu = new Menu(this.game);\n        this.menu.alive = false;\n        this.menu.visible = false;\n        this.menu.button(\"Continue\", 200, 260, () => {\n            if (this.victory) {\n                this.game.state.restart(true, false, this.config);\n            } else {\n                this.menu.alive = false;\n                this.menu.visible = false;\n            }\n        });\n        this.menu.button(\"Change teams\", 200, 410, () => this.game.state.start('TeamSelectScreen', true, false));\n        this.menu.button(\"Return to title\", 200, 560, () => this.game.state.start('Title', true, false));\n    }\n\n    update() {\n        if (this.isNotFirstFrame) {\n            if (!this.checkVictory()) {\n                this.teamCollisionResolver.groupVersusGroup(this.girlsTeam, this.boysTeam);\n                this.underwearCaptureCollisionResolver.groupVersusGroup(this.braGroup, this.braCapturePoints);\n                this.underwearCaptureCollisionResolver.groupVersusGroup(this.boxersGroup, this.boxersCapturePoints);\n                this.game.physics.arcade.collide(this.braGroup);\n                this.game.physics.arcade.collide(this.boxersGroup);\n                this.game.physics.arcade.collide(this.braGroup, this.boxersGroup);\n                this.game.physics.arcade.collide(this.braGroup, this.girlsTeam);\n                this.game.physics.arcade.collide(this.boxersGroup, this.girlsTeam);\n                this.game.physics.arcade.collide(this.braGroup, this.boysTeam);\n                this.game.physics.arcade.collide(this.boxersGroup, this.boysTeam);\n                this.game.physics.arcade.collide(this.girlsTeam, this.collisionSprites);\n                this.game.physics.arcade.collide(this.boysTeam, this.collisionSprites);\n                this.game.physics.arcade.collide(this.braGroup, this.collisionSprites);\n                this.game.physics.arcade.collide(this.boxersGroup, this.collisionSprites);\n\n                this.cpus.forEach(c => c.think());\n            }\n            this.checkMenu();\n        } else {\n            this.isNotFirstFrame = true;\n        }\n\n    }\n\n    checkMenu(): boolean {\n        if (this.menu.alive) {\n            return true;\n        }\n        const controllers = (this.game as UnderthiefGame).controllers;\n        let isMenuAsked = controllers.getKeyboard().isMenuAsked();\n        this.girlsTeam.forEachAlive((player) => {\n            isMenuAsked = isMenuAsked || player.controls.isMenuAsked();\n        }, null);\n        this.boysTeam.forEachAlive((player) => {\n            isMenuAsked = isMenuAsked || player.controls.isMenuAsked();\n        }, null);\n        if (isMenuAsked) {\n            this.showMenu();\n        }\n    }\n\n    checkVictory(): boolean {\n        if (!this.victory) {\n            const girlsWin = this.boxersCapturePoints.areAllCaptured();\n            const boysWin = this.braCapturePoints.areAllCaptured();\n            this.victory = boysWin || girlsWin;\n            if (this.victory) {\n                this.game.sound.stopAll();\n                this.game.sound.play('victory-music', 1, false);\n                this.girlsTeam.forEachAlive((player) => {\n                    let emo = new EmotionSprite(this.game, player.key, girlsWin ? 'happy' : 'sad');\n                    emo.x = player.x;\n                    emo.y = player.y;\n                    player.kill();\n                }, null);\n                this.boysTeam.forEachAlive((player) => {\n                    let emo = new EmotionSprite(this.game, player.key, boysWin ? 'happy' : 'sad');\n                    emo.x = player.x;\n                    emo.y = player.y;\n                    player.kill();\n                }, null);\n                let victoryText = this.game.add.sprite(this.game.world.centerX, 100, boysWin && girlsWin && 'draw' || boysWin && 'boys-win' || 'girls-win');\n                var tween = this.game.add.tween(victoryText.scale).to({ x: 1.4, y: 1.4 }, 1000, \"Linear\", true, 0, -1);\n                tween.yoyo(true);\n                victoryText.anchor.setTo(0.5, 0);\n                this.showMenu();\n            }\n        }\n        return this.victory;\n    }\n\n    showMenu() {\n        this.menu.alive = true;\n        this.menu.visible = true;\n    }\n\n    render() {\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\n\nexport class Options extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text(this.game.world.centerX, 0, 'Options', { font: \"100px monospace\", fill: 'white' });\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo(0.5, 0);\n\n        let y = 100;\n        const menu = new Menu(this.game);\n        menu.button(\"Keyboard\", 200, y += 150, () => this.game.state.start('KeyboardOptions'));\n        if (this.input.gamepad.supported) {\n            menu.button(\"Gamepad\", 200, y += 150, () => this.game.state.start('GamepadOptions'));\n        }\n        menu.button(\"Back\", 200, y += 150, () => this.game.state.start('Title'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { LevelConfig } from \"./Level\";\nimport { Menu } from \"../ui/Menu\";\nimport { MenuSelect, MenuSelectOption } from \"../ui/MenuSelect\";\nimport { UnderthiefGame } from \"../UnderthiefGame\";\nimport { ControllerType } from \"../utils/Controls\";\n\nexport class TeamSelectScreen extends AbstractState {\n\n    bettySelect: MenuSelect<ControllerType>;\n    betty2Select: MenuSelect<ControllerType>;\n    georgeSelect: MenuSelect<ControllerType>;\n    george2Select: MenuSelect<ControllerType>;\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n        this.game.load.atlasXML('betty', 'sprites/opengameart/betty.png', 'sprites/opengameart/player.xml');\n        this.game.load.atlasXML('betty2', 'sprites/opengameart/betty2.png', 'sprites/opengameart/player.xml');\n        this.game.load.atlasXML('george', 'sprites/opengameart/george.png', 'sprites/opengameart/player.xml');\n        this.game.load.atlasXML('george2', 'sprites/opengameart/george2.png', 'sprites/opengameart/player.xml');\n\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text(this.game.world.centerX, 0, 'Team selection', { font: \"64px monospace\", fill: 'white' });\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo(0.5, 0);\n\n        let betty = this.add.sprite(150, 175, 'betty', 0);\n        (<UnderthiefGame>this.game).addSpriteAnimation(betty, 'player.wait', 1);\n        betty.play('player.wait', 8, true);\n\n        let betty2 = this.add.sprite(150, 275, 'betty2', 0);\n        (<UnderthiefGame>this.game).addSpriteAnimation(betty2, 'player.wait', 1);\n        betty2.play('player.wait', 8, true);\n\n        let george = this.add.sprite(1060, 375, 'george', 0);\n        (<UnderthiefGame>this.game).addSpriteAnimation(george, 'player.wait', 1);\n        george.play('player.wait', 8, true);\n\n        let george2 = this.add.sprite(1060, 475, 'george2', 0);\n        (<UnderthiefGame>this.game).addSpriteAnimation(george2, 'player.wait', 1);\n        george2.play('player.wait', 8, true);\n\n        const menu = new Menu(this.game);\n\n        let playerOptions = [\n            new MenuSelectOption<ControllerType>(ControllerType.CPU, 'CPU'),\n            new MenuSelectOption<ControllerType>(ControllerType.KEYBOARD, 'Keyboard'),\n            new MenuSelectOption<ControllerType>(ControllerType.PAD1, 'Pad 1'),\n            new MenuSelectOption<ControllerType>(ControllerType.PAD2, 'Pad 2'),\n            new MenuSelectOption<ControllerType>(ControllerType.PAD3, 'Pad 3'),\n            new MenuSelectOption<ControllerType>(ControllerType.PAD4, 'Pad 4')\n        ];\n\n        this.bettySelect = menu.select(200, 150, playerOptions);\n        this.betty2Select = menu.select(200, 250, playerOptions);\n        this.georgeSelect = menu.select(200, 350, playerOptions);\n        this.george2Select = menu.select(200, 450, playerOptions);\n\n        this.autoSelect();\n        menu.button(\"Play\", 200, 600, () => {\n            let config = new LevelConfig();\n            config.bettyController = this.bettySelect.getSelectedValue();\n            config.betty2Controller = this.betty2Select.getSelectedValue();\n            config.georgeController = this.georgeSelect.getSelectedValue();\n            config.george2Controller = this.george2Select.getSelectedValue();\n            this.game.state.start('Level', true, false, config)\n        });\n\n        this.input.gamepad.onConnectCallback = this.input.gamepad.onDisconnectCallback = () => this.autoSelect();\n    }\n\n    shutdown() {\n        this.input.gamepad.onConnectCallback = this.input.gamepad.onDisconnectCallback = null;\n    }\n\n    autoSelect() {\n        switch (this.input.gamepad.padsConnected) {\n            case 0:\n                this.bettySelect.setSelectedValue(ControllerType.KEYBOARD);\n                this.betty2Select.setSelectedValue(ControllerType.CPU);\n                this.georgeSelect.setSelectedValue(ControllerType.CPU);\n                this.george2Select.setSelectedValue(ControllerType.CPU);\n                break;\n            case 1:\n                this.bettySelect.setSelectedValue(ControllerType.PAD1);\n                this.betty2Select.setSelectedValue(ControllerType.CPU);\n                this.georgeSelect.setSelectedValue(ControllerType.CPU);\n                this.george2Select.setSelectedValue(ControllerType.CPU);\n                break;\n            case 2:\n                this.bettySelect.setSelectedValue(ControllerType.PAD1);\n                this.betty2Select.setSelectedValue(ControllerType.CPU);\n                this.georgeSelect.setSelectedValue(ControllerType.PAD2);\n                this.george2Select.setSelectedValue(ControllerType.CPU);\n                break;\n            case 3:\n                this.bettySelect.setSelectedValue(ControllerType.PAD1);\n                this.betty2Select.setSelectedValue(ControllerType.PAD2);\n                this.georgeSelect.setSelectedValue(ControllerType.PAD3);\n                this.george2Select.setSelectedValue(ControllerType.CPU);\n                break;\n            default:\n                this.bettySelect.setSelectedValue(ControllerType.PAD1);\n                this.betty2Select.setSelectedValue(ControllerType.PAD2);\n                this.georgeSelect.setSelectedValue(ControllerType.PAD3);\n                this.george2Select.setSelectedValue(ControllerType.PAD4);\n                break;\n        }\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { Menu } from \"../ui/Menu\";\n\nexport class Title extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        this.game.load.image('school', 'title/school.jpg');\n        this.game.load.image('logo', 'title/logo.png');\n        this.game.load.audio('main-music', 'musics/opengameart/hungry-dino-9-chiptune-tracks-10-sfx/main.mp3')\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        this.game.sound.stopAll();\n        this.game.sound.play('main-music', 1, true);\n        this.game.add.image(0, 0, 'school');\n        let logo = this.game.add.sprite(this.game.world.centerX, 10, 'logo');\n        logo.scale.x = 1.4;\n        logo.scale.y = 1.4;\n        logo.anchor.setTo(0.5, 0);\n\n        const menu = new Menu(this.game);\n        menu.button(\"Start\", 200, 250, () => this.game.state.start('TeamSelectScreen'));\n        menu.button(\"Options\", 200, 400, () => this.game.state.start('Options'));\n        menu.button(\"Help\", 200, 550, () => this.game.state.start('Help1'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\r\n\r\nimport { MenuCursor } from \"./MenuCursor\";\r\nimport { MenuButton } from \"./MenuButton\";\r\nimport { MenuSelect, MenuSelectOption } from \"./MenuSelect\";\r\n\r\nexport class Menu extends Phaser.Group {\r\n    buttons: Phaser.Group;\r\n    menuCursor: MenuCursor;\r\n\r\n    constructor(game: Phaser.Game) {\r\n        super(game);\r\n        this.buttons = game.add.group();\r\n        this.add(this.buttons);\r\n        this.menuCursor = new MenuCursor(game, this.buttons);\r\n        this.add(this.menuCursor);\r\n        game.add.existing(this);\r\n    }\r\n\r\n    disableGamepadCursor(): Menu {\r\n        this.menuCursor.gamepadCursor = false;\r\n        return this;\r\n    }\r\n\r\n    disableKeyboardCursor(): Menu {\r\n        this.menuCursor.gamepadCursor = false;\r\n        return this;\r\n    }\r\n\r\n    addButton(button: MenuButton) {\r\n        this.buttons.add(button);\r\n    }\r\n\r\n    button(label: string, x: number, y: number, callback: Function) {\r\n        this.buttons.add(new MenuButton(this.game, label, x, y, callback));\r\n    }\r\n\r\n    select<T>(x: number, y: number, options: Array<MenuSelectOption<T>>): MenuSelect<T> {\r\n        const select = new MenuSelect(this.game, x, y, options);\r\n        this.buttons.add(select);\r\n        return select;\r\n    }\r\n\r\n    static preload(game: Phaser.Game) {\r\n        game.load.atlasXML('menu-buttons', 'menu/buttons.png', 'menu/buttons.xml');\r\n    }\r\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport class MenuButton extends Phaser.Button{\n\n    labelText: Phaser.Text;\n    callback: Function;\n    constructor(game: Phaser.Game, label: string, x: number, y: number, callback: Function) {\n        super(game, x, y, 'menu-buttons', callback, null, 'over', 'out', 'down');\n        this.callback = callback;\n        this.labelText = new Phaser.Text(this.game, 140, 15, label, {font: \"64px monospace\", fill: 'white'});\n        this.addChild(this.labelText);\n    }\n\n    toggle() {\n        this.callback();\n    }\n\n    setText(text: string) {\n        this.labelText.setText(text);\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\r\n\r\ninterface Togglable {\r\n    toggle?: Function;\r\n}\r\n\r\nexport class MenuCursor extends Phaser.Text {\r\n    private buttons: Phaser.Group;\r\n    private currentButton = 0;\r\n    waitUntil: number = -1;\r\n    keyboardCursor = true;\r\n    gamepadCursor = true;\r\n\r\n    constructor(game: Phaser.Game, buttons: Phaser.Group) {\r\n        super(game, 0, 0, '', { font: \"64px monospace\", fontWeight: 'bold', fill: 'white' });\r\n        this.buttons = buttons;\r\n        this.visible = false;\r\n    }\r\n\r\n    firstPadConnected(): Phaser.SinglePad {\r\n        const gamepad = this.game.input.gamepad;\r\n        if (gamepad.pad1.connected) {\r\n            return gamepad.pad1;\r\n        } else if (gamepad.pad2.connected) {\r\n            return gamepad.pad2;\r\n        } else if (gamepad.pad3.connected) {\r\n            return gamepad.pad3;\r\n        } else if (gamepad.pad4.connected) {\r\n            return gamepad.pad4;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    update() {\r\n        super.update();\r\n        if (this.parent.visible && this.game.time.time > this.waitUntil && (this.processPad() || this.processKeyboard())) {\r\n            this.waitUntil = this.game.time.time + 230;\r\n        }\r\n    }\r\n\r\n    processKeyboard(): boolean {\r\n        if (this.keyboardCursor) {\r\n            if (this.game.input.keyboard.isDown(Phaser.Keyboard.UP)) {\r\n                this.moveToButton(-1);\r\n                return true;\r\n            }\r\n            if (this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN)) {\r\n                this.moveToButton(1);\r\n                return true;\r\n            }\r\n            if (this.game.input.keyboard.isDown(Phaser.Keyboard.ENTER)) {\r\n                this.activateButton();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    processPad(): boolean {\r\n        if (this.gamepadCursor) {\r\n            const pad = this.firstPadConnected();\r\n            if (pad) {\r\n                for (let b = 0; b < 4; ++b) {\r\n                    let button = pad.getButton(b);\r\n                    if (button && button.isDown) {\r\n                        this.activateButton();\r\n                        return true;\r\n                    }\r\n                }\r\n                for (let a = 0; a < 2; ++a) {\r\n                    const axis = pad.axis(a);\r\n                    if (axis > pad.deadZone) {\r\n                        this.moveToButton(1);\r\n                        return true;\r\n                    } else if (axis < -pad.deadZone) {\r\n                        this.moveToButton(-1);\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    moveToButton(direction: number) {\r\n        if (this.parent.visible && this.buttons.children.length > 0) {\r\n            if (!this.visible) {\r\n                this.visible = true;\r\n            } else {\r\n                this.currentButton += direction;\r\n            }\r\n            if (this.currentButton >= this.buttons.length) {\r\n                this.currentButton = 0;\r\n            }\r\n            if (this.currentButton < 0) {\r\n                this.currentButton = this.buttons.length - 1;\r\n            }\r\n            const button = this.buttons.children[this.currentButton];\r\n            this.x = button.x;\r\n            this.y = button.y;\r\n        }\r\n    }\r\n    activateButton() {\r\n        if (this.parent.visible) {\r\n            if (!this.visible) {\r\n                this.moveToButton(0);\r\n            } else if (this.buttons.children.length > 0) {\r\n                const button = <Togglable>this.buttons.children[this.currentButton];\r\n                if (button.toggle) {\r\n                    button.toggle();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport class MenuMiniButton extends Phaser.Button {\n\n    labelText: Phaser.Text;\n    callback: Function;\n    constructor(game: Phaser.Game, label: string, x: number, y: number, callback: Function) {\n        super(game, x, y, 'menu-mini-buttons', callback, null, 'over', 'out', 'down');\n        this.callback = callback;\n        this.labelText = new Phaser.Text(this.game, 15, 15, label, { font: \"64px monospace\", fill: 'white' });\n        this.addChild(this.labelText);\n    }\n    \n    static preload(game: Phaser.Game) {\n        game.load.atlasXML('menu-mini-buttons', 'menu/mini-buttons.png', 'menu/mini-buttons.xml');\n    }\n\n    toggle() {\n        this.callback();\n    }\n\n    setText(text: string) {\n        this.labelText.setText(text);\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\n\nexport class MenuSelectOption<T> {\n    label: string;\n    value: T;\n    callback: Function;\n\n    constructor(value: T, label: string, callback?: Function) {\n        this.label = label;\n        this.value = value;\n        this.callback = callback;\n    }\n}\n\nexport class MenuSelect<T> extends Phaser.Button {\n\n    options: Array<MenuSelectOption<T>>;\n    selectedOption = 0;\n    labelText: Phaser.Text;\n    constructor(game: Phaser.Game, x: number, y: number, options: Array<MenuSelectOption<T>>) {\n        super(game, x, y, 'menu-buttons', () => this.toggle(), null, 'over', 'out', 'down');\n        this.options = options;\n        this.labelText = new Phaser.Text(this.game, 140, 15, options[0].label, { font: \"64px monospace\", fill: 'white' });\n        this.addChild(this.labelText);\n        game.add.existing(this);\n    }\n\n    toggle() {\n        this.selectedOption = (this.selectedOption + 1) % this.options.length;\n        this.labelText.setText(this.options[this.selectedOption].label);\n    }\n\n    getSelectedValue(): T {\n        return this.options[this.selectedOption].value;\n    }\n\n    setSelectedValue(optionValue: T) {\n        let foundIndex = this.options.findIndex((option: MenuSelectOption<T>) => option.value === optionValue);\n        this.selectedOption = foundIndex >= 0 ? foundIndex : 0;\n        this.labelText.setText(this.options[this.selectedOption].label);\n    }\n\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport class CollisionResolver {\n    game: Phaser.Game;\n\n    constructor(game: Phaser.Game) {\n        this.game = game;\n    }\n\n    groupVersusGroup(groupA: Phaser.Group, groupB: Phaser.Group) {\n        for (let spriteA of groupA.children) {\n            if (spriteA instanceof Phaser.Sprite) {\n                this.spriteVersusGroup(spriteA, groupB);\n            }\n        }\n    }\n\n    spriteVersusGroup(spriteA: Phaser.Sprite, groupB: Phaser.Group) {\n        if (spriteA.exists) {\n            for (let spriteB of groupB.children) {\n                if (spriteB instanceof Phaser.Sprite) {\n                    this.spriteVersusSprite(spriteA, spriteB);\n                }\n            }\n        }\n    }\n\n    spriteVersusSprite(spriteA: Phaser.Sprite, spriteB: Phaser.Sprite) {\n        if (this.checkCollision(spriteA, spriteB)) {\n            this.onCollide(spriteA, spriteB);\n        }\n    }\n\n    checkCollision(spriteA: Phaser.Sprite, spriteB: Phaser.Sprite) {\n        return spriteA.exists && spriteB.exists && spriteA.overlap(spriteB);\n    }\n\n    onCollide(a: Phaser.Sprite, b: Phaser.Sprite){\n        console.log('prout');\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\n\nimport { GamepadUtils } from \"./GamepadUtils\";\n\nexport enum ControllerType {\n    CPU = -1,\n    KEYBOARD = 0,\n    PAD1 = 1,\n    PAD2 = 2,\n    PAD3 = 3,\n    PAD4 = 4\n}\n\nexport class Controllers {\n    controllers: Array<AbstractControls>;\n\n    constructor(game: Phaser.Game) {\n        game.input.gamepad.start();\n        this.controllers = [\n            new KeyboardControls(game),\n            new PadControls(game, 1),\n            new PadControls(game, 2),\n            new PadControls(game, 3),\n            new PadControls(game, 4),\n        ];\n    }\n\n    getController(type: ControllerType): AbstractControls {\n        switch (type) {\n            case ControllerType.CPU:\n                return new CPUControls();\n            default:\n                return this.controllers[type];\n        }\n    }\n\n    getKeyboard(): KeyboardControls {\n        return this.controllers[0] as KeyboardControls;\n    }\n\n    getPad(padIndex: number): PadControls {\n        return this.controllers[padIndex] as PadControls;\n    }\n\n    updatePadLayout() {\n        for (let i = 1; i < 4; ++i) {\n            (<PadControls>this.controllers[i]).updatePadLayout();\n        }\n    }\n}\n\nexport abstract class AbstractControls {\n\n    abstract isGoingUp(): boolean;\n    abstract isGoingDown(): boolean;\n    abstract isGoingLeft(): boolean;\n    abstract isGoingRight(): boolean;\n    abstract isHammerTime(): boolean;\n    abstract isMenuAsked(): boolean;\n    abstract dashingAngle(playerPos: Phaser.Point): number;\n\n    protected readNumberFromLocalStorage(key: string, defaultValue: number) {\n        let i = parseInt(localStorage.getItem(key));\n        if (isNaN(i)) {\n            return defaultValue;\n        } else {\n            return i;\n        }\n    }\n}\n\nexport class CPUControls extends AbstractControls {\n\n    goingUp: boolean = false;\n    goingDown: boolean = false;\n    goingLeft: boolean = false;\n    goingRight: boolean = false;\n    hammerTime: boolean = false;\n    dashAngle: number = null;\n\n    reset() {\n        this.goingUp = false;\n        this.goingDown = false;\n        this.goingLeft = false;\n        this.goingRight = false;\n        this.hammerTime = false;\n        this.dashAngle = null;\n    }\n\n    isGoingUp(): boolean {\n        return this.goingUp;\n    }\n    isGoingDown(): boolean {\n        return this.goingDown;\n    }\n    isGoingLeft(): boolean {\n        return this.goingLeft;\n    }\n    isGoingRight(): boolean {\n        return this.goingRight;\n    }\n    isHammerTime(): boolean {\n        return this.hammerTime;\n    }\n    dashingAngle(playerPos: Phaser.Point): number {\n        return this.dashAngle;\n    }\n    isMenuAsked(): boolean {\n        return false;\n    }\n}\n\nexport interface KeyboardControlsMapping {\n    moveUp?: number;\n    moveDown?: number;\n    moveLeft?: number;\n    moveRight?: number;\n    hammer?: number;\n    dash?: number;\n    menu?: number;\n}\n\nexport class KeyboardControls extends AbstractControls {\n    kb: Phaser.Keyboard;\n    game: Phaser.Game;\n    keyCodeMoveUp: number;\n    keyCodeMoveDown: number;\n    keyCodeMoveLeft: number;\n    keyCodeMoveRight: number;\n    keyCodeHammerTime: number;\n    keyCodeDash: number;\n    keyCodeMenu: number;\n\n    constructor(game: Phaser.Game) {\n        super();\n        this.game = game;\n        this.setupKeyboardLayout();\n    }\n\n    setupKeyboardLayout() {\n        const layout = localStorage.getItem('keyboard.layout');\n        this.kb = this.game.input.keyboard;\n        try {\n            let mapping: KeyboardControlsMapping = JSON.parse(layout) || {};\n            this.keyCodeMoveUp = mapping.moveUp || Phaser.KeyCode.UP;\n            this.keyCodeMoveDown = mapping.moveDown || Phaser.KeyCode.DOWN;\n            this.keyCodeMoveLeft = mapping.moveLeft || Phaser.KeyCode.LEFT;\n            this.keyCodeMoveRight = mapping.moveRight || Phaser.KeyCode.RIGHT;\n            this.keyCodeHammerTime = mapping.hammer || Phaser.KeyCode.SHIFT;\n            this.keyCodeDash = mapping.dash || Phaser.KeyCode.CONTROL;\n            this.keyCodeMenu = mapping.menu || Phaser.KeyCode.ESC;\n            return;\n        } catch (e) {\n        }\n        if (layout == 'azerty') {\n            this.useAzertyLayout();\n        } else if (layout == 'qwerty') {\n            this.useQwertyLayout();\n        } else {\n            this.useOtherKeyboardLayout();\n        }\n    }\n\n    private useAzertyLayout() {\n        this.keyCodeMoveUp = Phaser.KeyCode.Z;\n        this.keyCodeMoveDown = Phaser.KeyCode.S;\n        this.keyCodeMoveLeft = Phaser.KeyCode.Q;\n        this.keyCodeMoveRight = Phaser.KeyCode.D;\n        this.keyCodeHammerTime = Phaser.KeyCode.K;\n        this.keyCodeDash = Phaser.KeyCode.J;\n        this.keyCodeMenu = Phaser.KeyCode.ESC;\n    }\n\n    private useQwertyLayout() {\n        this.keyCodeMoveUp = Phaser.KeyCode.W;\n        this.keyCodeMoveDown = Phaser.KeyCode.S;\n        this.keyCodeMoveLeft = Phaser.KeyCode.A;\n        this.keyCodeMoveRight = Phaser.KeyCode.D;\n        this.keyCodeHammerTime = Phaser.KeyCode.K;\n        this.keyCodeDash = Phaser.KeyCode.J;\n        this.keyCodeMenu = Phaser.KeyCode.ESC;\n    }\n\n    private useOtherKeyboardLayout() {\n        this.keyCodeMoveUp = Phaser.KeyCode.UP;\n        this.keyCodeMoveDown = Phaser.KeyCode.DOWN;\n        this.keyCodeMoveLeft = Phaser.KeyCode.LEFT;\n        this.keyCodeMoveRight = Phaser.KeyCode.RIGHT;\n        this.keyCodeHammerTime = Phaser.KeyCode.SHIFT;\n        this.keyCodeDash = Phaser.KeyCode.CONTROL;\n        this.keyCodeMenu = Phaser.KeyCode.ESC;\n    }\n\n    dashingAngle(playerPos: Phaser.Point): number {\n        if (this.kb && this.kb.isDown(this.keyCodeDash)) {\n            return this.lookingAngle();\n        }\n    }\n\n    lookingAngle(): number {\n        let dx = 0;\n        if (this.kb.isDown(this.keyCodeMoveLeft)) {\n            dx = -1;\n        } else if (this.kb.isDown(this.keyCodeMoveRight)) {\n            dx = 1;\n        }\n        let dy = 0;\n        if (this.kb.isDown(this.keyCodeMoveUp)) {\n            dy = -1;\n        } else if (this.kb.isDown(this.keyCodeMoveDown)) {\n            dy = 1;\n        }\n        if (dx != 0 || dy != 0) {\n            return Phaser.Math.angleBetween(0, 0, dx, dy);\n        } else {\n            return null;\n        }\n    }\n    isGoingUp(): boolean {\n        return this.kb && this.kb.isDown(this.keyCodeMoveUp);\n    }\n    isGoingDown(): boolean {\n        return this.kb && this.kb.isDown(this.keyCodeMoveDown);\n    }\n\n    isGoingLeft(): boolean {\n        return this.kb && this.kb.isDown(this.keyCodeMoveLeft);\n    }\n\n    isGoingRight(): boolean {\n        return this.kb && this.kb.isDown(this.keyCodeMoveRight);\n    }\n\n    isHammerTime(): boolean {\n        return this.kb && this.kb.isDown(this.keyCodeHammerTime);\n    }\n\n    isMenuAsked(): boolean {\n        return this.kb && this.kb.isDown(this.keyCodeMenu);\n    }\n\n}\n\nexport interface PadControlsMapping {\n    moveXAxis?: number;\n    moveYAxis?: number;\n    dashButton?: number;\n    menuButton?: number;\n    hammerTimeButton?: number;\n}\n\nexport class PadControls extends AbstractControls {\n    padIndex: number;\n    private pad: Phaser.SinglePad;\n    private game: Phaser.Game;\n    private moveXAxis: number;\n    private moveYAxis: number;\n    private dashButton: number;\n    private menuButton: number;\n    private hammerTimeButton: number;\n\n    constructor(game: Phaser.Game, padIndex: number) {\n        super();\n        this.game = game;\n        this.padIndex = padIndex;\n    }\n\n    updatePadLayout() {\n        this.pad = null;\n    }\n\n    private checkPad(): boolean {\n        let pad = GamepadUtils.gamepadByIndex(this.game, this.padIndex);\n        if (pad != null) {\n            if (this.pad != pad) {\n                this.pad = pad;\n                let layout: PadControlsMapping = {};\n                try {\n                    layout = JSON.parse(localStorage.getItem('gamepad.' + GamepadUtils.gamepadId(this.pad) + '.layout')) || {};\n                } catch (e) {\n                    layout = {};\n                }\n                this.moveXAxis = layout.moveXAxis || Phaser.Gamepad.XBOX360_STICK_LEFT_X;\n                this.moveYAxis = layout.moveYAxis || Phaser.Gamepad.XBOX360_STICK_LEFT_Y;\n                this.dashButton = layout.dashButton || Phaser.Gamepad.XBOX360_X;\n                this.menuButton = layout.menuButton || Phaser.Gamepad.XBOX360_START;\n                this.hammerTimeButton = layout.hammerTimeButton || Phaser.Gamepad.XBOX360_A;\n            }\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    dashingAngle(playerPos: Phaser.Point): number {\n        if (this.checkPad() && this.pad.isDown(this.dashButton)) {\n            return this.lookingAngle();\n        }\n    }\n\n    private lookingAngle(): number {\n        let dx = this.pad.axis(this.moveXAxis);\n        let dy = this.pad.axis(this.moveYAxis);\n        dx = Math.abs(dx) <= this.pad.deadZone ? 0 : dx;\n        dy = Math.abs(dy) <= this.pad.deadZone ? 0 : dy;\n        if (dx != 0 || dy != 0) {\n            return Phaser.Math.angleBetween(0, 0, dx, dy);\n        } else {\n            return null;\n        }\n    }\n\n    isGoingUp(): boolean {\n        return this.checkPad() && this.pad.axis(this.moveYAxis) < -this.pad.deadZone\n            ;\n    }\n    isGoingDown(): boolean {\n        return this.checkPad() && this.pad.axis(this.moveYAxis) > this.pad.deadZone;\n    }\n\n    isGoingLeft(): boolean {\n        return this.checkPad() && this.pad.axis(this.moveXAxis) < -this.pad.deadZone;\n    }\n\n    isGoingRight(): boolean {\n        return this.checkPad() && this.pad.axis(this.moveXAxis) > this.pad.deadZone;\n    }\n\n    isHammerTime(): boolean {\n        return this.checkPad() && this.pad.isDown(this.hammerTimeButton);\n    }\n\n    isMenuAsked(): boolean {\n        return this.checkPad() && this.pad.isDown(this.menuButton);\n    }\n\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport class GamepadUtils {\n    static NB_BUTTONS = 16;\n    static NB_AXIS = 10;\n\n    static gamepadColor(pad: Phaser.SinglePad): number {\n        let gamepad = pad.game.input.gamepad;\n        if (pad == gamepad.pad4) {\n            return 0xFFFF00;\n        } else if (pad == gamepad.pad3) {\n            return 0x0000FF;\n        } else if (pad == gamepad.pad2) {\n            return 0x00FF00;\n        } else {\n            return 0xFF0000;\n        }\n    }\n    static gamepadId(pad: Phaser.SinglePad): string {\n        let anyPad = <any>pad;\n        if (anyPad._rawPad) {\n            return anyPad._rawPad.id;\n        } else {\n            return null;\n        }\n    }\n\n    static gamepadByIndex(game: Phaser.Game, padIndex : number): Phaser.SinglePad {\n        return game.input.gamepad['pad' + padIndex];\n    }\n}"]}