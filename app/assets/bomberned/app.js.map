{"version":3,"sources":["app/BombernedApp.ts","app/BombernedGame.ts","app/entities/Arrow.ts","app/entities/Bomb.ts","app/entities/Explosion.ts","app/entities/Player.ts","app/entities/Team.ts","app/ia/CPU.ts","app/states/AbstractState.ts","app/states/GamepadOptions.ts","app/states/GamepadOptionsBindAxisOrButton.ts","app/states/GamepadOptionsLayout.ts","app/states/Help1.ts","app/states/Help2.ts","app/states/Intro.ts","app/states/KeyboardOptions.ts","app/states/KeyboardOptionsBindKey.ts","app/states/Level.ts","app/states/Options.ts","app/states/TeamSelectScreen.ts","app/states/Title.ts","app/ui/Menu.ts","app/ui/MenuButton.ts","app/ui/MenuCursor.ts","app/ui/MenuMiniButton.ts","app/ui/MenuSelect.ts","app/utils/Controls.ts","app/utils/DamageResolver.ts","app/utils/GamepadUtils.ts"],"names":[],"mappings":"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","file":"public/app.js","sourcesContent":["import { BombernedGame } from \"./BombernedGame\";\n\nnew BombernedGame();","/// <reference path=\"../typings/phaser.d.ts\"/>\nimport {Intro} from \"./states/Intro\";\nimport {Help1} from \"./states/Help1\";\nimport {Help2} from \"./states/Help2\";\nimport {Title} from \"./states/Title\";\nimport {Options} from \"./states/Options\";\nimport {KeyboardOptions} from \"./states/KeyboardOptions\";\nimport {KeyboardOptionsBindKey} from \"./states/KeyboardOptionsBindKey\";\nimport {GamepadOptions} from \"./states/GamepadOptions\";\nimport {GamepadOptionsLayout} from \"./states/GamepadOptionsLayout\";\nimport {GamepadOptionsBindAxisOrButton} from \"./states/GamepadOptionsBindAxisOrButton\";\nimport {TeamSelectScreen} from \"./states/TeamSelectScreen\";\nimport {Level} from \"./states/Level\";\nimport {Controllers} from \"./utils/Controls\";\n\nexport class BombernedGame extends Phaser.Game {\n\n    controllers: Controllers;\n\n    constructor() {\n        super(1280, 720, Phaser.CANVAS, 'game', {\n            preload: () => this.preloadGame()\n            , create: () => this.createGame()\n        });\n        this.state.add('Intro', Intro);\n        this.state.add('Title', Title);\n        this.state.add('Help1', Help1);\n        this.state.add('Help2', Help2);\n        this.state.add('Options', Options);\n        this.state.add('GamepadOptionsLayout', GamepadOptionsLayout);\n        this.state.add('GamepadOptionsBindAxisOrButton', GamepadOptionsBindAxisOrButton);\n        this.state.add('KeyboardOptions', KeyboardOptions);\n        this.state.add('KeyboardOptionsBindKey', KeyboardOptionsBindKey);\n        this.state.add('GamepadOptions', GamepadOptions);\n        this.state.add('TeamSelectScreen', TeamSelectScreen);\n        this.state.add('Level', Level);\n    }\n\n    preloadGame() {\n        this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n        this.scale.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL;\n        this.scale.pageAlignHorizontally = true;\n        this.scale.pageAlignVertically = true;\n    }\n\n    createGame() {\n        this.controllers = new Controllers(this);\n        this.state.start('Intro');\n    }\n\n    addSpriteAnimation(sprite: Phaser.Sprite, animationName: string, frameCount: number): Phaser.Animation {\n        return sprite.animations.add(animationName, this.genAnimArray(animationName, frameCount));\n    }\n\n    private genAnimArray(name: string, n: number) {\n        let result = new Array<string>();\n        for (let i = 0; i < n; ++i) {\n            result.push(name + i);\n        }\n        return result;\n    }\n\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\n/// <reference path=\"../../typings/pixi.d.ts\"/>\nimport { BombernedGame } from \"../BombernedGame\";\nimport { Level } from \"../states/Level\";\nimport { Explosion } from \"./Explosion\";\n\nexport class Arrow extends Phaser.Sprite {\n    \n    arrowCharge: ArrowCharge;\n\n    constructor( game: Phaser.Game ) {\n        super( game, 0, 0, 'arrow' );\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'arrow.fly', 4 );\n        this.game.physics.enable( this, Phaser.Physics.ARCADE );\n        this.anchor.setTo( 0.5, 0.5 );\n        this.checkWorldBounds = true;\n        this.outOfBoundsKill = true;\n        this.exists = false;\n        this.health = 0;\n        this.alive = false;\n        ( <Level>this.game.state.getCurrentState() ).arrows.add(this);\n\n        this.arrowCharge = new ArrowCharge( game );\n        this.arrowCharge.x = 11;\n        this.arrowCharge.y = 0;\n        this.addChild( this.arrowCharge );\n    }\n\n    static preload( game: Phaser.Game ) {\n        game.load.atlasXML( 'arrow', 'sprites/devnewton/arrow.png', 'sprites/devnewton/arrow.xml' );\n    }\n\n    fire( fromX: number, fromY: number, angle: number, speed: number ) {\n        this.reset( fromX, fromY, 1 );\n        this.scale.set( 1 );\n        this.game.physics.arcade.velocityFromRotation( angle, speed, this.body.velocity );\n        this.rotation = angle;\n        this.play( 'arrow.fly', 4, true );\n        this.arrowCharge.reset(11, 0, 1);\n        this.arrowCharge.play( 'arrow.charge', 16, true, false );\n    }\n\n}\n\nexport class ArrowExplosion extends Explosion {\n    constructor( game: Phaser.Game ) {\n        super( game, game.world.centerX, game.world.centerY, 'arrow' );\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'arrow.explode', 8 );\n        this.play( 'arrow.explode', 3, false, true );\n        this.anchor.setTo( 0.5, 0.5 );\n        ( <Level>this.game.state.getCurrentState() ).explosions.add( this );\n    }\n\n    kill(): Phaser.Sprite {\n        this.destroy();\n        return super.kill();\n    }\n}\n\nexport class ArrowCharge extends Phaser.Sprite {\n    constructor( game: Phaser.Game ) {\n        super( game, game.world.centerX, game.world.centerY, 'arrow' );\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'arrow.charge', 11 );\n        this.play( 'arrow.charge', 16, true, false );\n        this.anchor.setTo( 0.5, 0.5 );\n    }\n\n    kill(): Phaser.Sprite {\n        let explosion = new ArrowExplosion( this.game );\n        let explosionPos = new Phaser.Point( this.parent.x + 11, this.parent.y );\n        Phaser.Point.rotate( explosionPos, this.parent.x, this.parent.y, this.parent.rotation );\n        explosion.x = explosionPos.x;\n        explosion.y = explosionPos.y;\n        ( <Phaser.Sprite>this.parent ).kill();\n        return super.kill();\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { BombernedGame } from \"../BombernedGame\";\nimport { Level } from \"../states/Level\";\nimport { Explosion } from \"./Explosion\";\n\nconst TIME_BEFORE_EXPLOSION = 50000;\nconst ABOUT_TO_EXPLODE_ANIM_DURATION = 3000;\n\nexport class Bomb extends Phaser.Sprite {\n\n    explosionTime: number;\n    explosionSize = 3;\n\n    constructor( game: Phaser.Game ) {\n        super( game, game.world.centerX, game.world.centerY, 'bomb' );\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'bomb.dropped', 2 );\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'bomb.abouttoexplode', 3 );\n\n        this.explosionTime = game.time.time + TIME_BEFORE_EXPLOSION;\n        this.play( 'bomb.dropped', 4, true );\n        this.anchor.setTo( 0.5, 0.5 );\n        \n        ( <Level>this.game.state.getCurrentState() ).bombs.add(this);\n    }\n\n    static preload( game: Phaser.Game ) {\n        game.load.atlasXML( 'bomb', 'sprites/devnewton/bomb.png', 'sprites/devnewton/bomb.xml' );\n    }\n    \n    damage(amount: number): Phaser.Sprite {\n        if ( this.game.time.time < ( this.explosionTime - ABOUT_TO_EXPLODE_ANIM_DURATION ) ) {\n            this.explosionTime = this.game.time.time + ABOUT_TO_EXPLODE_ANIM_DURATION;\n        }\n        return this;\n    }\n\n    update() {\n        if ( this.game.time.time > ( this.explosionTime - ABOUT_TO_EXPLODE_ANIM_DURATION ) ) {\n            this.play( 'bomb.abouttoexplode', 15, false );\n        }\n        if ( this.game.time.time > this.explosionTime ) {\n            let explosion = new BombExplosion( this.game, 'bomb.explosion.center', 0 );\n            explosion.x = this.x;\n            explosion.y = this.y;\n\n            for ( let i = 1; i <= this.explosionSize; ++i ) {\n                let animation = i === this.explosionSize ? 'bomb.explosion.end' : 'bomb.explosion.side';\n                \n                let explosionTop = new BombExplosion( this.game, animation, 180 );\n                explosionTop.x = this.x;\n                explosionTop.y = this.y - i * 32;\n                \n                let explosionBottom = new BombExplosion( this.game, animation, 0 );\n                explosionBottom.x = this.x;\n                explosionBottom.y = this.y + i * 32;\n                \n                let explosionLeft = new BombExplosion( this.game, animation, 90 );\n                explosionLeft.x = this.x - i * 32;\n                explosionLeft.y = this.y;\n                \n                let explosionRight = new BombExplosion( this.game, animation, -90 );\n                explosionRight.x = this.x + i * 32;\n                explosionRight.y = this.y;\n            }\n            this.destroy();\n        }\n    }\n}\n\nexport class BombExplosion extends Explosion {\n    constructor( game: Phaser.Game, animation: string, angle: number ) {\n        super( game, game.world.centerX, game.world.centerY, 'bomb' );\n        ( <BombernedGame>game ).addSpriteAnimation( this, animation, 8 );\n        this.play( animation, 3, false, true );\n        this.anchor.setTo( 0.5, 0.5 );\n        this.angle = angle;\n        ( <Level>this.game.state.getCurrentState() ).explosions.add(this);\n    }\n    \n    kill(): Phaser.Sprite {\n        this.destroy();\n        return super.kill();\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport class Explosion extends Phaser.Sprite {\n\n    kill(): Phaser.Sprite {\n        this.destroy();\n        return super.kill();\n    }\n    \n    damage(amount: number): Phaser.Sprite {\n        return this;\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { BombernedGame } from \"../BombernedGame\";\nimport { AbstractControls } from \"../utils/Controls\";\nimport { Bomb } from \"./Bomb\";\nimport { Arrow } from \"./Arrow\";\n\ninterface PlayerState {\n    update( player: Player );\n}\n\nclass PlayerRunningState implements PlayerState {\n    \n    nextBombTime = -1;\n    \n    update( player: Player ) {\n        if ( !player.oldPos.equals( player.position ) ) {\n            player.oldPos = player.position.clone();\n        }\n        if ( player.controls ) {\n            player.body.velocity.x = 0;\n            player.body.velocity.y = 0;\n            \n            let shootingAngle = player.controls.shootingAngle(player.position);\n            if( shootingAngle != null && !player.arrow.alive ) {\n                player.arrow.fire(player.x, player.y, shootingAngle, 500);\n            } \n            \n            if( player.controls.isDroppingBomb() && player.game.time.time > this.nextBombTime) {\n                let bomb = new Bomb(player.game);\n                bomb.x = player.x;\n                bomb.y = player.y;\n                this.nextBombTime = player.game.time.time + 1000;\n            }\n            \n            if ( player.controls.isGoingLeft() ) {\n                player.body.velocity.x = -1;\n            } else if ( player.controls.isGoingRight() ) {\n                player.body.velocity.x = 1;\n            }           \n            if ( player.controls.isGoingUp() ) {\n                player.body.velocity.y = -1;\n            } else if ( player.controls.isGoingDown() ) {\n                player.body.velocity.y = 1;\n            }\n            player.body.velocity = player.body.velocity.setMagnitude(300);\n\n            if ( player.body.velocity.y < 0 ) {\n                player.play( \"player.walk.back\", 8, false );\n            } else if ( player.body.velocity.y > 0 ) {\n                player.play( \"player.walk.front\", 8, false );\n            } else if ( player.body.velocity.x < 0 ) {\n                player.play( \"player.walk.left\", 8, false );\n            } else if ( player.body.velocity.x > 0 ) {\n                player.play( \"player.walk.right\", 8, false );\n            } else {\n                player.play( \"player.wait\", 8, false );\n            }\n        }\n\n    }\n}\n\n\nexport class Player extends Phaser.Sprite {\n\n    controls: AbstractControls;\n    state: PlayerState;\n    cpuData: any = {};\n    arrow: Arrow;\n    static RUNNING_STATE = new PlayerRunningState();\n\n    constructor( game: Phaser.Game, key: string ) {\n        super( game, game.world.centerX, game.world.centerY, key );\n        this.health = 3;\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'player.walk.back', 4 );\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'player.walk.front', 4 );\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'player.walk.left', 4 );\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'player.walk.right', 4 );\n        ( <BombernedGame>game ).addSpriteAnimation( this, 'player.wait', 1 );\n\n        this.play( \"player.wait\", 8, false );\n        this.anchor.setTo( 0.5, 0.5 );\n        this.game.physics.enable( this, Phaser.Physics.ARCADE );\n        this.body.setCircle( 24 );\n        this.body.collideWorldBounds = true;\n        this.game.add.existing( this );\n        this.state = Player.RUNNING_STATE;\n        \n        this.name = key;\n        \n        this.arrow = new Arrow(game);\n        this.arrow.arrowCharge.data.friends = [ this.name ];\n        this.arrow.arrowCharge.name = this.name + '-arrow-charge';\n\n        this.data.friends = [ this.arrow.arrowCharge.name ];\n    }\n\n    static preload( game: Phaser.Game ) {\n        game.load.atlasXML( 'ned', 'sprites/devnewton/ned.png', 'sprites/devnewton/player.xml' );\n        game.load.atlasXML( 'ned2', 'sprites/devnewton/ned2.png', 'sprites/devnewton/player.xml' );\n        game.load.atlasXML( 'moustaki', 'sprites/devnewton/moustaki.png', 'sprites/devnewton/player.xml' );\n        game.load.atlasXML( 'moustaki2', 'sprites/devnewton/moustaki2.png', 'sprites/devnewton/player.xml' );\n    }\n\n    oldPos = new Phaser.Point( 0, 0 );\n\n    update() {\n        super.update()\n        this.state.update( this );\n    }\n    \n    invincible = false;\n\n    damage(amount: number): Phaser.Sprite {\n        if (!this.invincible) {\n            this.invincible = true;\n            this.game.add.tween(this).from({ tint: 0xFF0000 }).to({ tint: 0xFFFFFF }, 1000, Phaser.Easing.Linear.None, true, 0, 4, false).onComplete.add(() => this.invincible = false);\n            super.damage(amount);\n        }\n        return this;\n    }\n\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { Player } from \"./Player\";\n\nexport class Team extends Phaser.Group {\n    constructor(game: Phaser.Game) {\n        super(game);\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\r\nimport { CPUControls } from \"../utils/Controls\";\r\nimport { Player } from \"../entities/Player\";\r\n\r\nexport class CPU {\r\n    controls: CPUControls;\r\n    me: Player;\r\n    opponents: Phaser.Group;\r\n    buddies: Phaser.Group;\r\n    waitUntil: number;\r\n    lastCapturedCount: number = 0;\r\n\r\n    think() {\r\n        this.controls.reset();\r\n        //TODO  \r\n    }\r\n\r\n    moveToXY(x: number, y: number) {\r\n        if (this.me.body.x < x) {\r\n            this.controls.goingRight = true;\r\n        } else if (this.me.body.x > x) {\r\n            this.controls.goingLeft = true;\r\n        }\r\n        if (this.me.body.y < y) {\r\n            this.controls.goingDown = true;\r\n        } else if (this.me.body.y > y) {\r\n            this.controls.goingUp = true;\r\n        }\r\n    }\r\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport abstract class AbstractState extends Phaser.State {\n\n    constructor() {\n        super();\n    }\n\n    create() {\n        this.game.input.keyboard.addKey(Phaser.Keyboard.F11).onDown.add(() => this.toggleFullscreen());\n    }\n\n    toggleFullscreen() {\n        if (this.game.scale.isFullScreen) {\n            this.game.scale.stopFullScreen();\n        } else {\n            this.game.scale.startFullScreen();\n        }\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\nimport {MenuButton} from \"../ui/MenuButton\";\nimport {GamepadUtils} from \"../utils/GamepadUtils\";\n\n\nexport class GamepadOptions extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        let title = this.game.add.text(this.game.world.centerX, 0, 'Choose gamepad', { font: \"42px monospace\", fill: 'white' });\n        title.scale.x = 2;\n        title.scale.y = 2;\n        title.anchor.setTo(0.5, 0);\n\n        let subtitle = this.game.add.text(0, 0, 'Move stick or press button to show gamepad number', { font: \"32px monospace\", fill: 'white' });\n        subtitle.y = this.game.world.height - subtitle.height;\n\n        const menu = new Menu(this.game).disableGamepadCursor();\n        menu.addButton(new GamepadMenuButton(this.input.gamepad.pad1, \"Gamepad 1\", 200, 100, () => {\n            this.game.state.start('GamepadOptionsLayout', true, false, 1);\n        }));\n        menu.addButton(new GamepadMenuButton(this.input.gamepad.pad2, \"Gamepad 2\", 200, 200, () => {\n            this.game.state.start('GamepadOptionsLayout', true, false, 2);\n        }));\n        menu.addButton(new GamepadMenuButton(this.input.gamepad.pad3, \"Gamepad 3\", 200, 300, () => {\n            this.game.state.start('GamepadOptionsLayout', true, false, 3);\n        }));\n        menu.addButton(new GamepadMenuButton(this.input.gamepad.pad4, \"Gamepad 4\", 200, 400, () => {\n            this.game.state.start('GamepadOptionsLayout', true, false, 4);\n        }));\n        menu.button(\"Back\", 200, 550, () => this.game.state.start('Options'));\n    }\n}\n\nclass GamepadMenuButton extends MenuButton {\n    pad: Phaser.SinglePad;\n    constructor(pad: Phaser.SinglePad, label: string, x: number, y: number, callback: Function) {\n        super(pad.game, label, x, y, callback);\n        this.pad = pad;\n    }\n\n    update() {\n        super.update();\n\n        if (this.isPadActive()) {\n            this.labelText.tint = GamepadUtils.gamepadColor(this.pad);\n        } else {\n            this.labelText.tint = 0xFFFFFF;\n        }\n    }\n\n    isPadActive(): boolean {\n        for (let b = 0; b < 16; ++b) {\n            let button = this.pad.getButton(b);\n            if (button && button.isDown) {\n                return true;\n            }\n        }\n        for (let a = 0; a < 16; ++a) {\n            if (Math.abs(this.pad.axis(a)) > this.pad.deadZone) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { Menu } from \"../ui/Menu\";\nimport { MenuMiniButton } from \"../ui/MenuMiniButton\";\nimport { BombernedGame } from \"../BombernedGame\";\nimport { GamepadUtils } from \"../utils/GamepadUtils\";\n\nexport class GamepadOptionsBindAxisOrButton extends AbstractState {\n\n    bindingsDescription = [\n        { label: 'Pull move X axis', localStorageKey: 'moveXAxis' },\n        { label: 'Pull move Y axis', localStorageKey: 'moveYAxis' },\n        { label: 'Press drop bomb button', localStorageKey: 'droppingBombButton' },\n        { label: 'Press shoot button', localStorageKey: 'shootButton' },\n        { label: 'Press menu button', localStorageKey: 'menuButton' }\n    ];\n\n    currentBinding: number = 0;\n    pad: Phaser.SinglePad;\n    padIndex = 1;\n    axisButtons: Phaser.Group;\n    buttonsButtons: Phaser.Group;\n    bindings = {};\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n        MenuMiniButton.preload(this.game);\n    }\n\n    init(padIndex: number, binding: number = 0, bindings: any) {\n        this.bindings = bindings || {};\n        this.pad = GamepadUtils.gamepadByIndex(this.game, padIndex);\n        if (binding >= this.bindingsDescription.length) {\n            this.currentBinding = 0;\n            localStorage.setItem('gamepad.' + GamepadUtils.gamepadId(this.pad) + '.layout', JSON.stringify(this.bindings));\n            (this.game as BombernedGame).controllers.updatePadLayout();\n            this.game.state.start('GamepadOptions');\n        } else {\n            this.currentBinding = binding;\n        }\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text(this.game.world.centerX, 0, this.bindingsDescription[this.currentBinding].label, { font: \"42px monospace\", fill: 'white' });\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo(0.5, 0);\n        const menu = new Menu(this.game).disableGamepadCursor();\n        menu.button(\"Back\", 200, 600, () => this.game.state.start('GamepadOptions'));\n        this.createAxisButtons();\n        this.createButtonsButtons();\n\n    }\n\n    createAxisButtons() {\n        this.axisButtons = this.game.add.group();\n        this.axisButtons.visible = false;\n        const nbButtonsPerColumn = Math.ceil(Math.sqrt(GamepadUtils.NB_AXIS));\n        for (let y = 0, axisCode =0; axisCode< GamepadUtils.NB_AXIS; ++y) {\n            for (let x = 0; x < nbButtonsPerColumn; ++x) {\n                const buttonAxisCode = axisCode++;\n                let miniButton = new AxisButton(this.game, this.pad, buttonAxisCode, 250 + x * 200, 100 + y * 120, () => this.bindAxis(buttonAxisCode));\n                this.axisButtons.add(miniButton);\n            }\n        }\n    }\n\n    createButtonsButtons() {\n        this.buttonsButtons = this.game.add.group();\n        this.buttonsButtons.visible = false;\n        const nbButtonsPerColumn = Math.ceil(Math.sqrt(GamepadUtils.NB_BUTTONS));\n        for (let y = 0, buttonCode =0; buttonCode< GamepadUtils.NB_BUTTONS; ++y) {\n            for (let x = 0; x < nbButtonsPerColumn; ++x) {\n                const buttonButtonCode = buttonCode++;\n                let miniButton = new ButtonButton(this.game, this.pad, buttonButtonCode, 250 + x * 200, 100 + y * 120, () => this.bindButton(buttonButtonCode));\n                this.buttonsButtons.add(miniButton);\n            }\n        }\n    }\n\n    update() {\n        super.update();\n        if (this.bindingsDescription[this.currentBinding].localStorageKey.match(/axis/gi)) {\n            this.axisButtons.visible = true;\n            this.buttonsButtons.visible = false;\n        } else {\n            this.axisButtons.visible = false;\n            this.buttonsButtons.visible = true;\n        }\n    }\n\n    bindAxis(axisCode: number) {\n        this.bindings[this.bindingsDescription[this.currentBinding].localStorageKey] = axisCode;\n        this.game.state.start('GamepadOptionsBindAxisOrButton', true, false, this.padIndex, this.currentBinding + 1, this.bindings);\n    }\n\n    bindButton(buttonCode: number) {\n        this.bindings[this.bindingsDescription[this.currentBinding].localStorageKey] = buttonCode;\n        this.game.state.start('GamepadOptionsBindAxisOrButton', true, false, this.padIndex, this.currentBinding + 1, this.bindings);\n    }\n}\n\nclass AxisButton extends MenuMiniButton {\n    pad: Phaser.SinglePad;\n    axisCode: number;\n    constructor(game: Phaser.Game, pad: Phaser.SinglePad, axisCode: number, x: number, y: number, callback: Function) {\n        super(game, axisCode.toString(), x, y, callback);\n        this.pad = pad;\n        this.axisCode = axisCode;\n    }\n    update() {\n        super.update();\n\n        if (Math.abs(this.pad.axis(this.axisCode)) > this.pad.deadZone) {\n            this.labelText.tint = GamepadUtils.gamepadColor(this.pad);\n        } else {\n            this.labelText.tint = 0xFFFFFF;\n        }\n    }\n\n}\n\nclass ButtonButton extends MenuMiniButton {\n    pad: Phaser.SinglePad;\n    buttonCode: number;\n    constructor(game: Phaser.Game, pad: Phaser.SinglePad, buttonCode: number, x: number, y: number, callback: Function) {\n        super(game, buttonCode.toString(), x, y, callback);\n        this.pad = pad;\n        this.buttonCode = buttonCode;\n    }\n    update() {\n        super.update();\n\n        if (this.pad.isDown(this.buttonCode)) {\n            this.labelText.tint = GamepadUtils.gamepadColor(this.pad);\n        } else {\n            this.labelText.tint = 0xFFFFFF;\n        }\n    }\n\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\nimport {BombernedGame} from \"../BombernedGame\";\nimport {GamepadUtils} from '../utils/GamepadUtils';\n\nexport class GamepadOptionsLayout extends AbstractState {\n    padIndex: number;\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    init(padIndex : number) {\n        this.padIndex = padIndex || 1;\n    }\n\n    create() {\n        super.create();\n        let title = this.game.add.text(this.game.world.centerX, 0, 'Choose gamepad layout', { font: \"42px monospace\", fill: 'white' });\n        title.scale.x = 2;\n        title.scale.y = 2;\n        title.anchor.setTo(0.5, 0);\n\n        const menu = new Menu(this.game).disableGamepadCursor();\n        menu.button(\"Xbox\", 200, 200, () => {\n            localStorage.setItem('gamepad.' + GamepadUtils.gamepadId(GamepadUtils.gamepadByIndex(this.game, this.padIndex)) + '.layout', 'xbox');\n            this.game.state.start('Options');\n        });\n        menu.button(\"Custom\", 200, 300, () => {\n            this.game.state.start('GamepadOptionsBindAxisOrButton', true, false, this.padIndex);\n        });\n        menu.button(\"Back\", 200, 500, () => this.game.state.start('Options'));\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\n\nexport class Help1 extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        this.game.load.image('help1', 'help/help1.png');\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        this.game.add.image(0, 0, 'help1');\n        const menu = new Menu(this.game);\n        menu.button(\"Continue\", 200, 610, () => this.game.state.start('Help2'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\n\nexport class Help2 extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        this.game.load.image('help2', 'help/help2.png');\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        this.game.add.image(0, 0, 'help2');\n        const menu = new Menu(this.game);\n        menu.button(\"Continue\", 200, 610, () => this.game.state.start('Title'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\"; // you import only AClass\n\nexport class Intro extends AbstractState {\n\n    lastKey: Phaser.Key;\n    video: Phaser.Video;\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        this.game.load.video('intro', 'intro/intro.webm');\n    }\n\n    create() {\n        super.create();\n        this.video = this.game.add.video('intro');\n        this.video.play();\n        this.video.addToWorld(this.game.world.centerX, this.game.world.centerY, 0.5, 0.5);\n        this.video.onComplete.add(() => this.game.state.start('Title'));\n        this.lastKey = this.game.input.keyboard.lastKey;\n        this.game.input.onTap.add(() => {\n            this.gotoTitle();\n        });\n    }\n\n    update() {\n        if (this.lastKey != this.game.input.keyboard.lastKey) {\n            this.gotoTitle();\n            return;\n        }\n        for (let b = 0; b < 16; ++b) {\n            if (this.input.gamepad.isDown(b)) {\n                this.gotoTitle();\n                return;\n            }\n        }\n    }\n\n    gotoTitle() {\n        this.video.stop();\n        this.game.state.start('Title');\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\nimport { BombernedGame } from \"../BombernedGame\";\n\n\nexport class KeyboardOptions extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text(this.game.world.centerX, 0, 'Choose keyboard layout',{font: \"42px monospace\", fill: 'white'});\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo(0.5, 0);\n\n        const menu = new Menu(this.game).disableKeyboardCursor();\n        menu.button(\"Azerty zsqd jk\", 200, 100, () => {\n            localStorage.setItem('keyboard.layout', 'azerty');\n            (this.game as BombernedGame).controllers.getKeyboard().setupKeyboardLayout();\n            this.game.state.start('Options');\n        });\n        menu.button(\"Qwerty wsad jk\", 200, 200, () => {\n            localStorage.setItem('keyboard.layout', 'qwerty');\n            (this.game as BombernedGame).controllers.getKeyboard().setupKeyboardLayout();\n            this.game.state.start('Options');\n        });\n        menu.button(\" shift ctrl\", 200, 300, () => {\n            localStorage.setItem('keyboard.layout', 'other');\n            (this.game as BombernedGame).controllers.getKeyboard().setupKeyboardLayout();\n            this.game.state.start('Options');\n        });\n        menu.button(\"Custom\", 200, 400, () => {\n            this.game.state.start('KeyboardOptionsBindKey', true, false);\n        });\n        menu.button(\"Back\", 200, 600, () => this.game.state.start('Options'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { Menu } from \"../ui/Menu\";\nimport { BombernedGame } from \"../BombernedGame\";\n\n\nexport class KeyboardOptionsBindKey extends AbstractState {\n\n    bindingsDescription = [\n        { label: 'Press move up key', localStorageKey: 'moveUp' },\n        { label: 'Press move down key', localStorageKey: 'moveDown' },\n        { label: 'Press move left key', localStorageKey: 'moveLeft' },\n        { label: 'Press move right key', localStorageKey: 'moveRight' },\n        { label: 'Press shoot key', localStorageKey: 'shoot' },\n        { label: 'Press menu key', localStorageKey: 'menu' }\n    ];\n\n    currentBinding: number = 0;\n    bindings = {};\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    init(binding: number = 0, bindings?: any) {\n        this.bindings = bindings || {};\n        if (binding >= this.bindingsDescription.length) {\n            this.currentBinding = 0;\n            localStorage.setItem('keyboard.layout', JSON.stringify(this.bindings));\n            (this.game as BombernedGame).controllers.getKeyboard().setupKeyboardLayout();\n            this.game.state.start('KeyboardOptions');\n        } else {\n            this.currentBinding = binding;\n        }\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text(this.game.world.centerX, 0, this.bindingsDescription[this.currentBinding].label, { font: \"42px monospace\", fill: 'white' });\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo(0.5, 0);\n        const menu = new Menu(this.game).disableKeyboardCursor();\n        menu.button(\"Back\", 200, 600, () => this.game.state.start('KeyboardOptions'));\n    }\n\n    update() {\n        for (var k in Phaser.KeyCode) {\n            let keycode = Phaser.KeyCode[k];\n            if (this.input.keyboard.isDown(keycode)) {\n                this.bindings[this.bindingsDescription[this.currentBinding].localStorageKey] = keycode;\n                this.game.state.start('KeyboardOptionsBindKey', true, false, this.currentBinding + 1, this.bindings);\n                break;\n            }\n        }\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { BombernedGame } from \"../BombernedGame\";\nimport { Player } from \"../entities/Player\";\nimport { Bomb } from \"../entities/Bomb\";\nimport { Arrow, ArrowDamageResolver } from \"../entities/Arrow\";\n\nimport { Team } from \"../entities/Team\";\nimport { Menu } from \"../ui/Menu\";\n\nimport { ControllerType, CPUControls } from \"../utils/Controls\";\nimport { DamageResolver } from \"../utils/DamageResolver\";\nimport { CPU } from \"../ia/CPU\";\n\nexport class LevelConfig {\n    nedController: ControllerType;\n    ned2Controller: ControllerType;\n    moustakiController: ControllerType;\n    moustaki2Controller: ControllerType;\n}\n\nexport class Level extends AbstractState {\n\n    config: LevelConfig;\n    collisionSprites: Phaser.Group;\n    damageResolver : DamageResolver;\n    bombs: Phaser.Group;\n    arrows: Phaser.Group;\n    explosions: Phaser.Group;\n    nedsTeam: Team;\n    moustakisTeam: Team;\n    menu: Menu;\n    cpus: Array<CPU>;\n    isNotFirstFrame: boolean;\n    victory: boolean;\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Player.preload( this.game );\n        Arrow.preload( this.game );\n        Bomb.preload( this.game );\n        Menu.preload( this.game );\n        this.game.load.image( 'girls-win', 'victory/girls-win.png' );\n        this.game.load.image( 'boys-win', 'victory/boys-win.png' );\n        this.game.load.tilemap( 'map', 'levels/level1.json', null, Phaser.Tilemap.TILED_JSON );\n        this.game.load.image( 'dojo', 'levels/dojo.png' );\n        this.game.load.image( 'arabic1', 'sprites/opengameart/arabic_set/arabic1.png' );\n        this.game.load.audio( 'level-music', 'musics/opengameart/8-bit-music-pack-loopable/bgm_action_4.mp3' )\n        this.game.load.audio( 'victory-music', 'musics/opengameart/hungry-dino-9-chiptune-tracks-10-sfx/victory.mp3' )\n    }\n\n    init( config: LevelConfig ) {\n        this.config = config;\n        this.cpus = [];\n        this.isNotFirstFrame = false;\n        this.victory = false;\n    }\n\n    create() {\n        super.create();\n        this.game.sound.stopAll();\n        this.game.sound.play( 'level-music', 1, true );\n\n        this.game.physics.startSystem( Phaser.Physics.ARCADE );\n        const map = this.game.add.tilemap( 'map' );\n        map.addTilesetImage( 'dojo' );\n        map.addTilesetImage( 'arabic1' );\n\n        const layer = map.createLayer( 'ground' );\n        map.createLayer( 'wall' );\n        layer.resizeWorld();\n        \n        this.damageResolver = new DamageResolver(this.game);\n\n        this.collisionSprites = this.game.add.physicsGroup( Phaser.Physics.ARCADE );\n        for ( let o of map.objects['collision'] ) {\n            if ( o.name === 'world-bounds' ) {\n                this.game.physics.arcade.setBounds( o.x, o.y, o.width, o.height );\n            } else if ( o.rectangle ) {\n                const sprite = this.game.add.sprite( o.x, o.y );\n                this.game.physics.enable( sprite, Phaser.Physics.ARCADE );\n                sprite.body.immovable = true;\n                sprite.width = o.width;\n                sprite.height = o.height;\n                this.collisionSprites.add( sprite );\n            }\n        }\n        \n        this.bombs = new Phaser.Group( this.game );\n        this.arrows = new Phaser.Group( this.game );\n        this.explosions = new Phaser.Group( this.game );\n\n        let controllers = ( this.game as BombernedGame ).controllers;\n\n        this.nedsTeam = new Team( this.game );\n        let nedControls = controllers.getController( this.config.nedController );\n        if ( nedControls ) {\n            let ned = new Player( this.game, 'ned' );\n            ned.x = 256;\n            ned.y = 320;\n            ned.controls = nedControls\n            this.nedsTeam.add( ned );\n        }\n\n        let ned2Controls = controllers.getController( this.config.ned2Controller );\n        if ( ned2Controls ) {\n            let ned2 = new Player( this.game, 'ned2' );\n            ned2.x = 256;\n            ned2.y = 480;\n            ned2.controls = ned2Controls;\n            this.nedsTeam.add( ned2 );\n        }\n\n        this.moustakisTeam = new Team( this.game );\n        let moustakiControls = controllers.getController( this.config.moustakiController );\n        if ( moustakiControls ) {\n            let moustaki = new Player( this.game, 'moustaki' );\n            moustaki.x = 1024;\n            moustaki.y = 320;\n            moustaki.controls = moustakiControls;\n            this.moustakisTeam.add( moustaki );\n        }\n\n        let moustaki2Controls = controllers.getController( this.config.moustaki2Controller );\n        if ( moustaki2Controls ) {\n            let moustaki2 = new Player( this.game, 'moustaki2' );\n            moustaki2.x = 1024;\n            moustaki2.y = 480;\n            moustaki2.controls = moustaki2Controls;\n            this.moustakisTeam.add( moustaki2 );\n        }\n\n        this.nedsTeam.forEachAlive(( player ) => {\n            if ( player.controls instanceof CPUControls ) {\n                let cpu = new CPU();\n                cpu.me = player;\n                cpu.buddies = this.nedsTeam;\n                cpu.opponents = this.moustakisTeam;\n                cpu.controls = player.controls;\n                this.cpus.push( cpu );\n            }\n        }, null );\n        this.moustakisTeam.forEachAlive(( player ) => {\n            if ( player.controls instanceof CPUControls ) {\n                let cpu = new CPU();\n                cpu.me = player;\n                cpu.buddies = this.moustakisTeam;\n                cpu.opponents = this.nedsTeam;\n                cpu.controls = player.controls;\n                this.cpus.push( cpu );\n            }\n        }, null );\n\n        this.menu = new Menu( this.game );\n        this.menu.alive = false;\n        this.menu.visible = false;\n        this.menu.button( \"Continue\", 200, 260, () => {\n            if ( this.victory ) {\n                this.game.state.restart( true, false, this.config );\n            } else {\n                this.menu.alive = false;\n                this.menu.visible = false;\n            }\n        } );\n        this.menu.button( \"Change teams\", 200, 410, () => this.game.state.start( 'TeamSelectScreen', true, false ) );\n        this.menu.button( \"Return to title\", 200, 560, () => this.game.state.start( 'Title', true, false ) );\n    }\n\n    update() {\n        if ( this.isNotFirstFrame ) {\n            if ( !this.checkVictory() ) {\n                this.damageResolver.arrowsVersusGroup(this.arrows, this.bombs);\n                this.damageResolver.arrowsVersusGroup(this.arrows, this.nedsTeam);\n                this.damageResolver.arrowsVersusGroup(this.arrows, this.moustakisTeam);\n                this.damageResolver.groupVersusGroup(this.explosions, this.nedsTeam);\n                this.damageResolver.groupVersusGroup(this.explosions, this.moustakisTeam);\n                this.game.physics.arcade.collide( this.nedsTeam, this.collisionSprites );\n                this.game.physics.arcade.collide( this.moustakisTeam, this.collisionSprites );\n                this.cpus.forEach( c => c.think() );\n            }\n            this.checkMenu();\n        } else {\n            this.isNotFirstFrame = true;\n        }\n\n    }\n\n    checkMenu(): boolean {\n        if ( this.menu.alive ) {\n            return true;\n        }\n        const controllers = ( this.game as BombernedGame ).controllers;\n        let isMenuAsked = controllers.getKeyboard().isMenuAsked();\n        this.nedsTeam.forEachAlive(( player ) => {\n            isMenuAsked = isMenuAsked || player.controls.isMenuAsked();\n        }, null );\n        this.moustakisTeam.forEachAlive(( player ) => {\n            isMenuAsked = isMenuAsked || player.controls.isMenuAsked();\n        }, null );\n        if ( isMenuAsked ) {\n            this.showMenu();\n        }\n    }\n\n    checkVictory(): boolean {\n        if ( !this.victory ) {\n            const girlsWin = false; // TODO\n            const boysWin = false; // TODO\n            this.victory = boysWin || girlsWin;\n            if ( this.victory ) {\n                this.game.sound.stopAll();\n                this.game.sound.play( 'victory-music', 1, false );\n                this.nedsTeam.forEachAlive(( player ) => {\n                    /*let emo = new EmotionSprite( this.game, player.key, girlsWin ? 'happy' : 'sad' );\n                    emo.x = player.x;\n                    emo.y = player.y;\n                    player.kill();*/\n                    //TODO\n                }, null );\n                this.moustakisTeam.forEachAlive(( player ) => {\n                    /*let emo = new EmotionSprite( this.game, player.key, boysWin ? 'happy' : 'sad' );\n                    emo.x = player.x;\n                    emo.y = player.y;\n                    player.kill();\n                    */\n                    //TODO\n                }, null );\n                let victoryText = this.game.add.sprite( this.game.world.centerX, 100, boysWin && girlsWin && 'draw' || boysWin && 'boys-win' || 'girls-win' );\n                var tween = this.game.add.tween( victoryText.scale ).to( { x: 1.4, y: 1.4 }, 1000, \"Linear\", true, 0, -1 );\n                tween.yoyo( true );\n                victoryText.anchor.setTo( 0.5, 0 );\n                this.showMenu();\n            }\n        }\n        return this.victory;\n    }\n\n    showMenu() {\n        this.menu.alive = true;\n        this.menu.visible = true;\n    }\n\n    render() {\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport {AbstractState} from \"./AbstractState\";\nimport {Menu} from \"../ui/Menu\";\n\nexport class Options extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text(this.game.world.centerX, 0, 'Options', { font: \"100px monospace\", fill: 'white' });\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo(0.5, 0);\n\n        let y = 100;\n        const menu = new Menu(this.game);\n        menu.button(\"Keyboard\", 200, y += 150, () => this.game.state.start('KeyboardOptions'));\n        if (this.input.gamepad.supported) {\n            menu.button(\"Gamepad\", 200, y += 150, () => this.game.state.start('GamepadOptions'));\n        }\n        menu.button(\"Back\", 200, y += 150, () => this.game.state.start('Title'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { LevelConfig } from \"./Level\";\nimport { Menu } from \"../ui/Menu\";\nimport { MenuSelect, MenuSelectOption } from \"../ui/MenuSelect\";\nimport { BombernedGame } from \"../BombernedGame\";\nimport { ControllerType } from \"../utils/Controls\";\n\nexport class TeamSelectScreen extends AbstractState {\n\n    nedSelect: MenuSelect<ControllerType>;\n    ned2Select: MenuSelect<ControllerType>;\n    moustakiSelect: MenuSelect<ControllerType>;\n    moustaki2Select: MenuSelect<ControllerType>;\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        Menu.preload( this.game );\n        this.game.load.atlasXML( 'ned', 'sprites/devnewton/ned.png', 'sprites/devnewton/player.xml' );\n        this.game.load.atlasXML( 'ned2', 'sprites/devnewton/ned2.png', 'sprites/devnewton/player.xml' );\n        this.game.load.atlasXML( 'moustaki', 'sprites/devnewton/moustaki.png', 'sprites/devnewton/player.xml' );\n        this.game.load.atlasXML( 'moustaki2', 'sprites/devnewton/moustaki2.png', 'sprites/devnewton/player.xml' );\n\n    }\n\n    create() {\n        super.create();\n        let logo = this.game.add.text( this.game.world.centerX, 0, 'Team selection', { font: \"64px monospace\", fill: 'white' } );\n        logo.scale.x = 2;\n        logo.scale.y = 2;\n        logo.anchor.setTo( 0.5, 0 );\n\n        let ned = this.add.sprite( 150, 175, 'ned', 0 );\n        ( <BombernedGame>this.game ).addSpriteAnimation( ned, 'player.wait', 1 );\n        ned.play( 'player.wait', 8, true );\n\n        let ned2 = this.add.sprite( 150, 275, 'ned2', 0 );\n        ( <BombernedGame>this.game ).addSpriteAnimation( ned2, 'player.wait', 1 );\n        ned2.play( 'player.wait', 8, true );\n\n        let moustaki = this.add.sprite( 1060, 375, 'moustaki', 0 );\n        ( <BombernedGame>this.game ).addSpriteAnimation( moustaki, 'player.wait', 1 );\n        moustaki.play( 'player.wait', 8, true );\n\n        let moustaki2 = this.add.sprite( 1060, 475, 'moustaki2', 0 );\n        ( <BombernedGame>this.game ).addSpriteAnimation( moustaki2, 'player.wait', 1 );\n        moustaki2.play( 'player.wait', 8, true );\n\n        const menu = new Menu( this.game );\n\n        let playerOptions = [\n            new MenuSelectOption<ControllerType>( ControllerType.NONE, 'None' ),\n            new MenuSelectOption<ControllerType>( ControllerType.CPU, 'CPU' ),\n            new MenuSelectOption<ControllerType>( ControllerType.KEYBOARD, 'Keyboard' ),\n            new MenuSelectOption<ControllerType>( ControllerType.PAD1, 'Pad 1' ),\n            new MenuSelectOption<ControllerType>( ControllerType.PAD2, 'Pad 2' ),\n            new MenuSelectOption<ControllerType>( ControllerType.PAD3, 'Pad 3' ),\n            new MenuSelectOption<ControllerType>( ControllerType.PAD4, 'Pad 4' )\n        ];\n\n        this.nedSelect = menu.select( 200, 150, playerOptions );\n        this.ned2Select = menu.select( 200, 250, playerOptions );\n        this.moustakiSelect = menu.select( 200, 350, playerOptions );\n        this.moustaki2Select = menu.select( 200, 450, playerOptions );\n\n        this.autoSelect();\n        menu.button( \"Play\", 200, 600, () => {\n            let config = new LevelConfig();\n            config.nedController = this.nedSelect.getSelectedValue();\n            config.ned2Controller = this.ned2Select.getSelectedValue();\n            config.moustakiController = this.moustakiSelect.getSelectedValue();\n            config.moustaki2Controller = this.moustaki2Select.getSelectedValue();\n            this.game.state.start( 'Level', true, false, config )\n        } );\n\n        this.input.gamepad.onConnectCallback = this.input.gamepad.onDisconnectCallback = () => this.autoSelect();\n    }\n\n    shutdown() {\n        this.input.gamepad.onConnectCallback = this.input.gamepad.onDisconnectCallback = null;\n    }\n\n    autoSelect() {\n        switch ( this.input.gamepad.padsConnected ) {\n            case 0:\n                this.nedSelect.setSelectedValue( ControllerType.KEYBOARD );\n                this.ned2Select.setSelectedValue( ControllerType.CPU );\n                this.moustakiSelect.setSelectedValue( ControllerType.CPU );\n                this.moustaki2Select.setSelectedValue( ControllerType.CPU );\n                break;\n            case 1:\n                this.nedSelect.setSelectedValue( ControllerType.PAD1 );\n                this.ned2Select.setSelectedValue( ControllerType.CPU );\n                this.moustakiSelect.setSelectedValue( ControllerType.CPU );\n                this.moustaki2Select.setSelectedValue( ControllerType.CPU );\n                break;\n            case 2:\n                this.nedSelect.setSelectedValue( ControllerType.PAD1 );\n                this.ned2Select.setSelectedValue( ControllerType.CPU );\n                this.moustakiSelect.setSelectedValue( ControllerType.PAD2 );\n                this.moustaki2Select.setSelectedValue( ControllerType.CPU );\n                break;\n            case 3:\n                this.nedSelect.setSelectedValue( ControllerType.PAD1 );\n                this.ned2Select.setSelectedValue( ControllerType.PAD2 );\n                this.moustakiSelect.setSelectedValue( ControllerType.PAD3 );\n                this.moustaki2Select.setSelectedValue( ControllerType.CPU );\n                break;\n            default:\n                this.nedSelect.setSelectedValue( ControllerType.PAD1 );\n                this.ned2Select.setSelectedValue( ControllerType.PAD2 );\n                this.moustakiSelect.setSelectedValue( ControllerType.PAD3 );\n                this.moustaki2Select.setSelectedValue( ControllerType.PAD4 );\n                break;\n        }\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { AbstractState } from \"./AbstractState\";\nimport { Menu } from \"../ui/Menu\";\n\nexport class Title extends AbstractState {\n\n    constructor() {\n        super();\n    }\n\n    preload() {\n        this.game.load.image('school', 'title/background.jpg');\n        this.game.load.audio('main-music', 'musics/opengameart/hungry-dino-9-chiptune-tracks-10-sfx/main.mp3')\n        Menu.preload(this.game);\n    }\n\n    create() {\n        super.create();\n        this.game.sound.stopAll();\n        this.game.sound.play('main-music', 1, true);\n        this.game.add.image(0, 0, 'school');\n\n        const menu = new Menu(this.game);\n        menu.button(\"Start\", 200, 250, () => this.game.state.start('TeamSelectScreen'));\n        menu.button(\"Options\", 200, 400, () => this.game.state.start('Options'));\n        menu.button(\"Help\", 200, 550, () => this.game.state.start('Help1'));\n    }\n}\n","/// <reference path=\"../../typings/phaser.d.ts\"/>\r\n\r\nimport { MenuCursor } from \"./MenuCursor\";\r\nimport { MenuButton } from \"./MenuButton\";\r\nimport { MenuSelect, MenuSelectOption } from \"./MenuSelect\";\r\n\r\nexport class Menu extends Phaser.Group {\r\n    buttons: Phaser.Group;\r\n    menuCursor: MenuCursor;\r\n\r\n    constructor(game: Phaser.Game) {\r\n        super(game);\r\n        this.buttons = game.add.group();\r\n        this.add(this.buttons);\r\n        this.menuCursor = new MenuCursor(game, this.buttons);\r\n        this.add(this.menuCursor);\r\n        game.add.existing(this);\r\n    }\r\n\r\n    disableGamepadCursor(): Menu {\r\n        this.menuCursor.gamepadCursor = false;\r\n        return this;\r\n    }\r\n\r\n    disableKeyboardCursor(): Menu {\r\n        this.menuCursor.gamepadCursor = false;\r\n        return this;\r\n    }\r\n\r\n    addButton(button: MenuButton) {\r\n        this.buttons.add(button);\r\n    }\r\n\r\n    button(label: string, x: number, y: number, callback: Function) {\r\n        this.buttons.add(new MenuButton(this.game, label, x, y, callback));\r\n    }\r\n\r\n    select<T>(x: number, y: number, options: Array<MenuSelectOption<T>>): MenuSelect<T> {\r\n        const select = new MenuSelect(this.game, x, y, options);\r\n        this.buttons.add(select);\r\n        return select;\r\n    }\r\n\r\n    static preload(game: Phaser.Game) {\r\n        game.load.atlasXML('menu-buttons', 'menu/buttons.png', 'menu/buttons.xml');\r\n    }\r\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport class MenuButton extends Phaser.Button{\n\n    labelText: Phaser.Text;\n    callback: Function;\n    constructor(game: Phaser.Game, label: string, x: number, y: number, callback: Function) {\n        super(game, x, y, 'menu-buttons', callback, null, 'over', 'out', 'down');\n        this.callback = callback;\n        this.labelText = new Phaser.Text(this.game, 140, 15, label, {font: \"64px monospace\", fill: 'white'});\n        this.addChild(this.labelText);\n    }\n\n    toggle() {\n        this.callback();\n    }\n\n    setText(text: string) {\n        this.labelText.setText(text);\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\r\n\r\ninterface Togglable {\r\n    toggle?: Function;\r\n}\r\n\r\nexport class MenuCursor extends Phaser.Text {\r\n    private buttons: Phaser.Group;\r\n    private currentButton = 0;\r\n    waitUntil: number = -1;\r\n    keyboardCursor = true;\r\n    gamepadCursor = true;\r\n\r\n    constructor(game: Phaser.Game, buttons: Phaser.Group) {\r\n        super(game, 0, 0, '', { font: \"64px monospace\", fontWeight: 'bold', fill: 'white' });\r\n        this.buttons = buttons;\r\n        this.visible = false;\r\n    }\r\n\r\n    firstPadConnected(): Phaser.SinglePad {\r\n        const gamepad = this.game.input.gamepad;\r\n        if (gamepad.pad1.connected) {\r\n            return gamepad.pad1;\r\n        } else if (gamepad.pad2.connected) {\r\n            return gamepad.pad2;\r\n        } else if (gamepad.pad3.connected) {\r\n            return gamepad.pad3;\r\n        } else if (gamepad.pad4.connected) {\r\n            return gamepad.pad4;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    update() {\r\n        super.update();\r\n        if (this.parent.visible && this.game.time.time > this.waitUntil && (this.processPad() || this.processKeyboard())) {\r\n            this.waitUntil = this.game.time.time + 230;\r\n        }\r\n    }\r\n\r\n    processKeyboard(): boolean {\r\n        if (this.keyboardCursor) {\r\n            if (this.game.input.keyboard.isDown(Phaser.Keyboard.UP)) {\r\n                this.moveToButton(-1);\r\n                return true;\r\n            }\r\n            if (this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN)) {\r\n                this.moveToButton(1);\r\n                return true;\r\n            }\r\n            if (this.game.input.keyboard.isDown(Phaser.Keyboard.ENTER)) {\r\n                this.activateButton();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    processPad(): boolean {\r\n        if (this.gamepadCursor) {\r\n            const pad = this.firstPadConnected();\r\n            if (pad) {\r\n                for (let b = 0; b < 4; ++b) {\r\n                    let button = pad.getButton(b);\r\n                    if (button && button.isDown) {\r\n                        this.activateButton();\r\n                        return true;\r\n                    }\r\n                }\r\n                for (let a = 0; a < 2; ++a) {\r\n                    const axis = pad.axis(a);\r\n                    if (axis > pad.deadZone) {\r\n                        this.moveToButton(1);\r\n                        return true;\r\n                    } else if (axis < -pad.deadZone) {\r\n                        this.moveToButton(-1);\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    moveToButton(direction: number) {\r\n        if (this.parent.visible && this.buttons.children.length > 0) {\r\n            if (!this.visible) {\r\n                this.visible = true;\r\n            } else {\r\n                this.currentButton += direction;\r\n            }\r\n            if (this.currentButton >= this.buttons.length) {\r\n                this.currentButton = 0;\r\n            }\r\n            if (this.currentButton < 0) {\r\n                this.currentButton = this.buttons.length - 1;\r\n            }\r\n            const button = this.buttons.children[this.currentButton];\r\n            this.x = button.x;\r\n            this.y = button.y;\r\n        }\r\n    }\r\n    activateButton() {\r\n        if (this.parent.visible) {\r\n            if (!this.visible) {\r\n                this.moveToButton(0);\r\n            } else if (this.buttons.children.length > 0) {\r\n                const button = <Togglable>this.buttons.children[this.currentButton];\r\n                if (button.toggle) {\r\n                    button.toggle();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport class MenuMiniButton extends Phaser.Button {\n\n    labelText: Phaser.Text;\n    callback: Function;\n    constructor(game: Phaser.Game, label: string, x: number, y: number, callback: Function) {\n        super(game, x, y, 'menu-mini-buttons', callback, null, 'over', 'out', 'down');\n        this.callback = callback;\n        this.labelText = new Phaser.Text(this.game, 15, 15, label, { font: \"64px monospace\", fill: 'white' });\n        this.addChild(this.labelText);\n    }\n    \n    static preload(game: Phaser.Game) {\n        game.load.atlasXML('menu-mini-buttons', 'menu/mini-buttons.png', 'menu/mini-buttons.xml');\n    }\n\n    toggle() {\n        this.callback();\n    }\n\n    setText(text: string) {\n        this.labelText.setText(text);\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\n\nexport class MenuSelectOption<T> {\n    label: string;\n    value: T;\n    callback: Function;\n\n    constructor(value: T, label: string, callback?: Function) {\n        this.label = label;\n        this.value = value;\n        this.callback = callback;\n    }\n}\n\nexport class MenuSelect<T> extends Phaser.Button {\n\n    options: Array<MenuSelectOption<T>>;\n    selectedOption = 0;\n    labelText: Phaser.Text;\n    constructor(game: Phaser.Game, x: number, y: number, options: Array<MenuSelectOption<T>>) {\n        super(game, x, y, 'menu-buttons', () => this.toggle(), null, 'over', 'out', 'down');\n        this.options = options;\n        this.labelText = new Phaser.Text(this.game, 140, 15, options[0].label, { font: \"64px monospace\", fill: 'white' });\n        this.addChild(this.labelText);\n        game.add.existing(this);\n    }\n\n    toggle() {\n        this.selectedOption = (this.selectedOption + 1) % this.options.length;\n        this.labelText.setText(this.options[this.selectedOption].label);\n    }\n\n    getSelectedValue(): T {\n        return this.options[this.selectedOption].value;\n    }\n\n    setSelectedValue(optionValue: T) {\n        let foundIndex = this.options.findIndex((option: MenuSelectOption<T>) => option.value === optionValue);\n        this.selectedOption = foundIndex >= 0 ? foundIndex : 0;\n        this.labelText.setText(this.options[this.selectedOption].label);\n    }\n\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\n\nimport { GamepadUtils } from \"./GamepadUtils\";\n\nexport enum ControllerType {\n    NONE = -2,\n    CPU = -1,\n    KEYBOARD = 0,\n    PAD1 = 1,\n    PAD2 = 2,\n    PAD3 = 3,\n    PAD4 = 4\n}\n\nexport class Controllers {\n    controllers: Array<AbstractControls>;\n\n    constructor( game: Phaser.Game ) {\n        game.input.gamepad.start();\n        this.controllers = [\n            new KeyboardControls( game ),\n            new PadControls( game, 1 ),\n            new PadControls( game, 2 ),\n            new PadControls( game, 3 ),\n            new PadControls( game, 4 ),\n        ];\n    }\n\n    getController( type: ControllerType ): AbstractControls {\n        switch ( type ) {\n            case ControllerType.NONE:\n                return null;\n            case ControllerType.CPU:\n                return new CPUControls();\n            default:\n                return this.controllers[type];\n        }\n    }\n\n    getKeyboard(): KeyboardControls {\n        return this.controllers[0] as KeyboardControls;\n    }\n\n    getPad( padIndex: number ): PadControls {\n        return this.controllers[padIndex] as PadControls;\n    }\n\n    updatePadLayout() {\n        for ( let i = 1; i < 4; ++i ) {\n            ( <PadControls>this.controllers[i] ).updatePadLayout();\n        }\n    }\n}\n\nexport abstract class AbstractControls {\n\n    abstract isGoingUp(): boolean;\n    abstract isGoingDown(): boolean;\n    abstract isGoingLeft(): boolean;\n    abstract isGoingRight(): boolean;\n    abstract isDroppingBomb(): boolean;\n    abstract isMenuAsked(): boolean;\n    abstract shootingAngle( playerPos: Phaser.Point ): number;\n\n    protected readNumberFromLocalStorage( key: string, defaultValue: number ) {\n        let i = parseInt( localStorage.getItem( key ) );\n        if ( isNaN( i ) ) {\n            return defaultValue;\n        } else {\n            return i;\n        }\n    }\n}\n\nexport class CPUControls extends AbstractControls {\n\n    goingUp: boolean = false;\n    goingDown: boolean = false;\n    goingLeft: boolean = false;\n    goingRight: boolean = false;\n    droppingBomb: boolean = false;\n    shootAngle: number = null;\n\n    reset() {\n        this.goingUp = false;\n        this.goingDown = false;\n        this.goingLeft = false;\n        this.goingRight = false;\n        this.droppingBomb = false;\n        this.shootAngle = null;\n    }\n\n    isGoingUp(): boolean {\n        return this.goingUp;\n    }\n    isGoingDown(): boolean {\n        return this.goingDown;\n    }\n    isGoingLeft(): boolean {\n        return this.goingLeft;\n    }\n    isGoingRight(): boolean {\n        return this.goingRight;\n    }\n    isDroppingBomb(): boolean {\n        return this.droppingBomb;\n    }\n    shootingAngle( playerPos: Phaser.Point ): number {\n        return this.shootAngle;\n    }\n    isMenuAsked(): boolean {\n        return false;\n    }\n}\n\nexport interface KeyboardControlsMapping {\n    moveUp?: number;\n    moveDown?: number;\n    moveLeft?: number;\n    moveRight?: number;\n    droppingBomb?: number;\n    shoot?: number;\n    menu?: number;\n}\n\nexport class KeyboardControls extends AbstractControls {\n    kb: Phaser.Keyboard;\n    game: Phaser.Game;\n    keyCodeMoveUp: number;\n    keyCodeMoveDown: number;\n    keyCodeMoveLeft: number;\n    keyCodeMoveRight: number;\n    keyCodeDroppingBomb: number;\n    keyCodeShoot: number;\n    keyCodeMenu: number;\n\n    constructor( game: Phaser.Game ) {\n        super();\n        this.game = game;\n        this.setupKeyboardLayout();\n    }\n\n    setupKeyboardLayout() {\n        const layout = localStorage.getItem( 'keyboard.layout' );\n        this.kb = this.game.input.keyboard;\n        try {\n            let mapping: KeyboardControlsMapping = JSON.parse( layout ) || {};\n            this.keyCodeMoveUp = mapping.moveUp || Phaser.KeyCode.UP;\n            this.keyCodeMoveDown = mapping.moveDown || Phaser.KeyCode.DOWN;\n            this.keyCodeMoveLeft = mapping.moveLeft || Phaser.KeyCode.LEFT;\n            this.keyCodeMoveRight = mapping.moveRight || Phaser.KeyCode.RIGHT;\n            this.keyCodeDroppingBomb = mapping.droppingBomb || Phaser.KeyCode.SHIFT;\n            this.keyCodeShoot = mapping.shoot || Phaser.KeyCode.CONTROL;\n            this.keyCodeMenu = mapping.menu || Phaser.KeyCode.ESC;\n            return;\n        } catch ( e ) {\n        }\n        if ( layout == 'azerty' ) {\n            this.useAzertyLayout();\n        } else if ( layout == 'qwerty' ) {\n            this.useQwertyLayout();\n        } else {\n            this.useOtherKeyboardLayout();\n        }\n    }\n\n    private useAzertyLayout() {\n        this.keyCodeMoveUp = Phaser.KeyCode.Z;\n        this.keyCodeMoveDown = Phaser.KeyCode.S;\n        this.keyCodeMoveLeft = Phaser.KeyCode.Q;\n        this.keyCodeMoveRight = Phaser.KeyCode.D;\n        this.keyCodeDroppingBomb = Phaser.KeyCode.K;\n        this.keyCodeShoot = Phaser.KeyCode.J;\n        this.keyCodeMenu = Phaser.KeyCode.ESC;\n    }\n\n    private useQwertyLayout() {\n        this.keyCodeMoveUp = Phaser.KeyCode.W;\n        this.keyCodeMoveDown = Phaser.KeyCode.S;\n        this.keyCodeMoveLeft = Phaser.KeyCode.A;\n        this.keyCodeMoveRight = Phaser.KeyCode.D;\n        this.keyCodeDroppingBomb = Phaser.KeyCode.K;\n        this.keyCodeShoot = Phaser.KeyCode.J;\n        this.keyCodeMenu = Phaser.KeyCode.ESC;\n    }\n\n    private useOtherKeyboardLayout() {\n        this.keyCodeMoveUp = Phaser.KeyCode.UP;\n        this.keyCodeMoveDown = Phaser.KeyCode.DOWN;\n        this.keyCodeMoveLeft = Phaser.KeyCode.LEFT;\n        this.keyCodeMoveRight = Phaser.KeyCode.RIGHT;\n        this.keyCodeDroppingBomb = Phaser.KeyCode.SHIFT;\n        this.keyCodeShoot = Phaser.KeyCode.CONTROL;\n        this.keyCodeMenu = Phaser.KeyCode.ESC;\n    }\n\n    shootingAngle( playerPos: Phaser.Point ): number {\n        if ( this.kb && this.kb.isDown( this.keyCodeShoot ) ) {\n            return this.lookingAngle();\n        }\n    }\n\n    lookingAngle(): number {\n        let dx = 0;\n        if ( this.kb.isDown( this.keyCodeMoveLeft ) ) {\n            dx = -1;\n        } else if ( this.kb.isDown( this.keyCodeMoveRight ) ) {\n            dx = 1;\n        }\n        let dy = 0;\n        if ( this.kb.isDown( this.keyCodeMoveUp ) ) {\n            dy = -1;\n        } else if ( this.kb.isDown( this.keyCodeMoveDown ) ) {\n            dy = 1;\n        }\n        if ( dx != 0 || dy != 0 ) {\n            return Phaser.Math.angleBetween( 0, 0, dx, dy );\n        } else {\n            return null;\n        }\n    }\n    isGoingUp(): boolean {\n        return this.kb && this.kb.isDown( this.keyCodeMoveUp );\n    }\n    isGoingDown(): boolean {\n        return this.kb && this.kb.isDown( this.keyCodeMoveDown );\n    }\n\n    isGoingLeft(): boolean {\n        return this.kb && this.kb.isDown( this.keyCodeMoveLeft );\n    }\n\n    isGoingRight(): boolean {\n        return this.kb && this.kb.isDown( this.keyCodeMoveRight );\n    }\n\n    isDroppingBomb(): boolean {\n        return this.kb && this.kb.isDown( this.keyCodeDroppingBomb );\n    }\n\n    isMenuAsked(): boolean {\n        return this.kb && this.kb.isDown( this.keyCodeMenu );\n    }\n\n}\n\nexport interface PadControlsMapping {\n    moveXAxis?: number;\n    moveYAxis?: number;\n    shootButton?: number;\n    menuButton?: number;\n    droppingBombButton?: number;\n}\n\nexport class PadControls extends AbstractControls {\n    padIndex: number;\n    private pad: Phaser.SinglePad;\n    private game: Phaser.Game;\n    private moveXAxis: number;\n    private moveYAxis: number;\n    private shootButton: number;\n    private menuButton: number;\n    private droppingBombButton: number;\n\n    constructor( game: Phaser.Game, padIndex: number ) {\n        super();\n        this.game = game;\n        this.padIndex = padIndex;\n    }\n\n    updatePadLayout() {\n        this.pad = null;\n    }\n\n    private checkPad(): boolean {\n        let pad = GamepadUtils.gamepadByIndex( this.game, this.padIndex );\n        if ( pad != null ) {\n            if ( this.pad != pad ) {\n                this.pad = pad;\n                let layout: PadControlsMapping = {};\n                try {\n                    layout = JSON.parse( localStorage.getItem( 'gamepad.' + GamepadUtils.gamepadId( this.pad ) + '.layout' ) ) || {};\n                } catch ( e ) {\n                    layout = {};\n                }\n                this.moveXAxis = layout.moveXAxis || Phaser.Gamepad.XBOX360_STICK_LEFT_X;\n                this.moveYAxis = layout.moveYAxis || Phaser.Gamepad.XBOX360_STICK_LEFT_Y;\n                this.shootButton = layout.shootButton || Phaser.Gamepad.XBOX360_X;\n                this.menuButton = layout.menuButton || Phaser.Gamepad.XBOX360_START;\n                this.droppingBombButton = layout.droppingBombButton || Phaser.Gamepad.XBOX360_A;\n            }\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    shootingAngle( playerPos: Phaser.Point ): number {\n        if ( this.checkPad() && this.pad.isDown( this.shootButton ) ) {\n            return this.lookingAngle();\n        }\n    }\n\n    private lookingAngle(): number {\n        let dx = this.pad.axis( this.moveXAxis );\n        let dy = this.pad.axis( this.moveYAxis );\n        dx = Math.abs( dx ) <= this.pad.deadZone ? 0 : dx;\n        dy = Math.abs( dy ) <= this.pad.deadZone ? 0 : dy;\n        if ( dx != 0 || dy != 0 ) {\n            return Phaser.Math.angleBetween( 0, 0, dx, dy );\n        } else {\n            return null;\n        }\n    }\n\n    isGoingUp(): boolean {\n        return this.checkPad() && this.pad.axis( this.moveYAxis ) < -this.pad.deadZone\n            ;\n    }\n    isGoingDown(): boolean {\n        return this.checkPad() && this.pad.axis( this.moveYAxis ) > this.pad.deadZone;\n    }\n\n    isGoingLeft(): boolean {\n        return this.checkPad() && this.pad.axis( this.moveXAxis ) < -this.pad.deadZone;\n    }\n\n    isGoingRight(): boolean {\n        return this.checkPad() && this.pad.axis( this.moveXAxis ) > this.pad.deadZone;\n    }\n\n    isDroppingBomb(): boolean {\n        return this.checkPad() && this.pad.isDown( this.droppingBombButton );\n    }\n\n    isMenuAsked(): boolean {\n        return this.checkPad() && this.pad.isDown( this.menuButton );\n    }\n\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nimport { Arrow } from \"../entities/Arrow\";\n\nexport class DamageResolver {\n    game: Phaser.Game;\n\n    constructor( game: Phaser.Game ) {\n        this.game = game;\n    }\n\n    arrowsVersusGroup( arrows: Phaser.Group, groupB: Phaser.Group ) {\n        for ( let arrow of arrows.children ) {\n            if ( arrow instanceof Arrow ) {\n                this.arrowVersusGroup( arrow.arrowCharge, groupB );\n            }\n        }\n    }\n\n    arrowVersusGroup( spriteA: Phaser.Sprite, groupB: Phaser.Group ) {\n        if ( spriteA.exists ) {\n            for ( let spriteB of groupB.children ) {\n                if ( spriteB instanceof Phaser.Sprite ) {\n                    this.arrowVersusSprite( spriteA, spriteB );\n                }\n            }\n        }\n    }\n\n    arrowVersusSprite( spriteA: Phaser.Sprite, spriteB: Phaser.Sprite ) {\n        if ( this.checkArrowCollision( spriteA, spriteB ) ) {\n            this.onCollide( spriteA, spriteB );\n        }\n    }\n\n    checkArrowCollision( spriteA: Phaser.Sprite, spriteB: Phaser.Sprite ) {\n        let arrowChargeBound = spriteA.getBounds();\n        let arrowChargeX = arrowChargeBound.x + arrowChargeBound.width / 2;\n        let arrowChargeY = arrowChargeBound.y + arrowChargeBound.height / 2;\n        return spriteA.exists && spriteB.exists && spriteB.getBounds().contains(arrowChargeX, arrowChargeY);\n    }\n\n\n    groupVersusGroup( groupA: Phaser.Group, groupB: Phaser.Group ) {\n        for ( let spriteA of groupA.children ) {\n            if ( spriteA instanceof Phaser.Sprite ) {\n                this.spriteVersusGroup( spriteA, groupB );\n            }\n        }\n    }\n\n    spriteVersusGroup( spriteA: Phaser.Sprite, groupB: Phaser.Group ) {\n        if ( spriteA.exists ) {\n            for ( let spriteB of groupB.children ) {\n                if ( spriteB instanceof Phaser.Sprite ) {\n                    this.spriteVersusSprite( spriteA, spriteB );\n                }\n            }\n        }\n    }\n\n    spriteVersusSprite( spriteA: Phaser.Sprite, spriteB: Phaser.Sprite ) {\n        if ( this.checkCollision( spriteA, spriteB ) ) {\n            this.onCollide( spriteA, spriteB );\n        }\n    }\n\n    checkCollision( spriteA: Phaser.Sprite, spriteB: Phaser.Sprite ) {\n        return spriteA.exists && spriteB.exists && spriteA.overlap( spriteB );\n    }\n\n    onCollide( a: Phaser.Sprite, b: Phaser.Sprite ) {\n        if ( !b.data.friends || !b.data.friends.includes( a.name ) ) {\n            a.damage( 1 );\n        }\n        if ( !a.data.friends || !a.data.friends.includes( b.name ) ) {\n            b.damage( 1 );\n        }\n    }\n}","/// <reference path=\"../../typings/phaser.d.ts\"/>\nexport class GamepadUtils {\n    static NB_BUTTONS = 16;\n    static NB_AXIS = 10;\n\n    static gamepadColor(pad: Phaser.SinglePad): number {\n        let gamepad = pad.game.input.gamepad;\n        if (pad == gamepad.pad4) {\n            return 0xFFFF00;\n        } else if (pad == gamepad.pad3) {\n            return 0x0000FF;\n        } else if (pad == gamepad.pad2) {\n            return 0x00FF00;\n        } else {\n            return 0xFF0000;\n        }\n    }\n    static gamepadId(pad: Phaser.SinglePad): string {\n        let anyPad = <any>pad;\n        if (anyPad._rawPad) {\n            return anyPad._rawPad.id;\n        } else {\n            return null;\n        }\n    }\n\n    static gamepadByIndex(game: Phaser.Game, padIndex : number): Phaser.SinglePad {\n        return game.input.gamepad['pad' + padIndex];\n    }\n}"]}